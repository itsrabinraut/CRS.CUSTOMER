@model CRS.CUSTOMER.APPLICATION.Models.LocationManagement.LocationClubHostModel
@{
    ViewBag.Title = "Club/Host List";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<style>
    /* The Modal (background) */
    .my-custom-modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        padding-top: 150px; /* Location of the box */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
    }

    /* Modal Content (image) */
    .my-modal-content {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
    }

    /* The Close Button */
    .close {
        position: absolute;
        top: 50px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
    }

        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
</style>
<style>

    .next-prev-btn {
        border: 1px solid #F8F8F8;
        display: flex;
        width: 44px;
        height: 44px;
        justify-content: center;
        align-items: center;
        flex: none;
        cursor: pointer
    }

    .page-number-list div {
        border: 1px solid #F8F8F8;
        display: flex;
        height: 44px;
        justify-content: center;
        align-items: center;
        width: 100%;
        color: #000;
        font-size: 16px;
        font-style: normal;
        font-weight: 500;
        line-height: 24px; /* 150% */
        cursor: default;
    }

        .page-number-list div.active {
            color: #D75A8B;
            font-size: 16px;
            font-style: normal;
            font-weight: 500;
            line-height: 24px; /* 150% */
            background: #F3F3F3;
        }
</style>
<!-- #region Search -->
<div class=" border border-[#D6CEB4] flex my-2 mx-4 rounded-[4px] search-input" onclick="redirectToSearchPage()">
    <span class=" mt-[10px] ml-3 material-icons-outlined text-[#D6CEB4]">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.125 1.875C11.5698 1.875 14.375 4.68018 14.375 8.125C14.375 9.62158 13.8501 10.9937 12.9688 12.0703L17.9492 17.0508L17.0508 17.9492L12.0703 12.9688C10.9937 13.8501 9.62158 14.375 8.125 14.375C4.68018 14.375 1.875 11.5698 1.875 8.125C1.875 4.68018 4.68018 1.875 8.125 1.875ZM8.125 3.125C5.35645 3.125 3.125 5.35645 3.125 8.125C3.125 10.8936 5.35645 13.125 8.125 13.125C10.8936 13.125 13.125 10.8936 13.125 8.125C13.125 5.35645 10.8936 3.125 8.125 3.125Z"
                  fill="#BCB08A" />
        </svg>
    </span>
    <input class="w-full text-xs text-[#BCB08A] "
           title="Search"
           type="text"
           placeholder="@CRS.CUSTOMER.APPLICATION.Resources.Resource.Search_Filter_Placeholder" readonly />
    <div class="group flex justify-end cursor-pointer p-3 rotate-90" title="Filter">
        <a href="/LocationManagement/SearchFilter?LocationId=@ViewBag.LocationId">
            <svg class="group-hover:bg-primaryLight w-4 h-4 text-[#BCB08A] " aria-hidden="true"
                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                <path stroke="currentColor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2"
                      d="M4 12.25V1m0 11.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M4 19v-2.25m6-13.5V1m0 2.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M10 19V7.75m6 4.5V1m0 11.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM16 19v-2" />
            </svg>
        </a>
    </div>

</div>

<!-- #endregion -->
<!-- #region Slider image -->
<div class="owl-carousel owl-theme ">
    @foreach (var item in Model.Banners)
    {
        if (!string.IsNullOrEmpty(item.BannerImage))
        {
            <div class="item ">
                <img src="@item.BannerImage" class="h-[152px] object-cover" alt="slider">
            </div>
        }
        else
        {
            <div class="item ">
                <img src="~/Content/assets/images/customer/demo-image.jpeg" class="h-[152px] object-cover" alt="slider">
            </div>
        }
    }
</div>
<!-- #endregion -->
<!-- #region Tab -->

<div class="">
    <div class="flex px-[16px] gap-[24px]" style="border-bottom: 4px solid #EFEFEF;">
        <div class="grid grid-cols-2 w-full tab-container-plane bg-white gap-[14px]">
            <button id="tab1Button" class="tab-button-plane tab-link active">
                @CRS.CUSTOMER.APPLICATION.Resources.Resource.Club
            </button>
            <button id="tab2Button" class="tab-button-plane tab-link">
                @CRS.CUSTOMER.APPLICATION.Resources.Resource.Host
            </button>
        </div>
    </div>
</div>
<div class="">
    <div class="bg-white">
        <div id="tab1" class="tab-content-plane">
            @foreach (var item in Model.ClubListModel)
            {
                <div class="flex flex-col  gap-1 w-full   border-b-[4px] border-[#E5E5E5]">
                    <!-- location -->
                    <section class="tags flex flex-wrap pt-3 pb-2 gap-2 px-4 items-center ">
                        @if (!string.IsNullOrEmpty(@item.Tag1))
                        {
                            <div class=" flex items-center justify-center gap-[2px] text-[#A09E91] text-[10px] leading-[20px]">
                                <i class="fa-solid fa-location-dot text-[10px] text-[#E91E63]"></i>
                                @item.Tag1
                            </div>
                        }
                        <div class=" flex self-center gap-0.5  ">
                            @if (!string.IsNullOrEmpty(@item.Tag2))
                            {
                                <span class="lg:text-[9px] text-xs   self-center   px-2 rounded-sm  bg-[#BFA3B6] text-[#FFFFFF]">
                                    @item.Tag2
                                </span>
                            }
                            @if (!string.IsNullOrEmpty(@item.Tag3))
                            {
                                <span class="lg:text-[9px] text-xs   self-center    px-2 rounded-sm  bg-[#697DBF] text-[#FFFFFF]">
                                    @item.Tag3
                                </span>
                            }
                            @if (!string.IsNullOrEmpty(@item.Tag4))
                            {
                                <span class="lg:text-[9px] text-xs   self-center    px-2 rounded-sm  text-[#FFFFFF] bg-[#96B41F]">
                                    @item.Tag4
                                </span>
                            }
                            @if (!string.IsNullOrEmpty(@item.Tag5))
                            {
                                <span class="lg:text-[9px] text-xs   self-center    px-2 rounded-sm   text-[#FFFFFF] bg-[#EFB726]">
                                    @item.Tag5
                                </span>
                            }
                        </div>
                    </section>

                    <!-- club name -->
                    <section class="w-full flex px-4 pb-2 justify-between ">
                        <a onClick={goToTop}>
                            <div class="flex gap-2  hover:cursor-pointer transition-all delay-150">
                                <div class="h-12 w-12 rounded-full border-borderColor bg-primary border overflow-hidden" onclick="ClubDetailActionFunction('@item.LocationId', '@item.ClubId')">
                                    <img src="@item.ClubLogo" alt="" title="club logo"
                                         class="w-full h-full object-cover" />
                                </div>

                                <div class="flex flex-col ">
                                    <div class="flex gap-1 text-base items-center  font-semibold">
                                        <div class="text-base items-start " title="club name">
                                            @item.ClubName
                                        </div>
                                    </div>
                                    <div class="text-xs items-start " title="club ">
                                        @item.ClubNameJapanese
                                    </div>
                                    <div class="text-[10px] items-start text-[#E3A1A1] " title="club group">
                                        @item.GroupName
                                    </div>
                                </div>
                            </div>
                        </a>
                        <div class="flex flex-col justify-center items-center  p-1  scale-90">
                            @if (item.IsBookmarked.ToUpper() == "N")
                            {
                                <div class="flex flex-col justify-center items-center px-3 hover:cursor-pointer"
                                     onclick="handleAddBookmarks('@item.ClubId','','club')">
                                    <img src="~/Content/assets/images/customer/bookmark-outlined.svg" class="h-[20px] w-[25px]" />
                                    <span class='text-[9px] font-medium text-[#BCB08A]'>保存</span>
                                </div>
                            }
                            else
                            {
                                <div class="flex flex-col justify-center items-center px-3 hover:cursor-pointer"
                                     onclick="handleRemoveBookmarks('@item.ClubId','','club')">
                                    <img src="~/Content/assets/images/customer/bookmark-filled.svg" class="h-[20px] w-[25px]" />
                                    <span class='text-[9px] font-medium text-[#BCB08A]'>保存</span>
                                </div>
                            }

                        </div>
                    </section>
                    <!-- photo -->
                    <section class="h-auto w-full grid grid-cols-3 bg-light gap-0.5">
                        @foreach (var item2 in item.HostGalleryImage)
                        {
                            <div class=" " onclick="OpenImagePopup('@item2')">
                                <img src="@item2"
                                     class="aspect-square  h-[182px] w-full object-cover" />
                            </div>
                        }
                    </section>
                    <!-- rating /commment -->
                    <section class=" flex justify-start flex-wrap align-top mt-2 px-4 gap-3">
                        <div class="flex items-center gap-0.5" title="club rank">
                            @{
                                var unratedScale = (5 - item.AverageRating);
                                for (int i = 0; i < item.AverageRating; i++)
                                {
                                    <svg key={ind} xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                        <path d="M16.3501 6.76236L10.8678 6.18339L8.62355 1.14954L6.37926 6.18339L0.896973 6.76236L4.99185 10.453L3.84865 15.8448L8.62355 13.091L13.3984 15.8448L12.2553 10.453L16.3501 6.76236Z"
                                              fill="#F89336" />
                                    </svg>
                                }
                                for (int i = 0; i < unratedScale; i++)
                                {
                                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                        <g opacity="0.3">
                                            <path d="M9.44612 1.1453L8.95768 2.25692L7.20604 6.18126L2.928 6.63601L1.71533 6.77076L2.62484 7.5792L5.8081 10.4593L4.91544 14.67L4.6628 15.849L5.72389 15.2426L9.44612 13.0868L13.1684 15.2426L14.2294 15.849L13.9768 14.67L13.0841 10.4593L16.2674 7.5792L17.1769 6.77076L15.9642 6.63601L11.6862 6.18126L9.93456 2.25692L9.44612 1.1453ZM9.44612 3.7896L10.8272 6.9055L10.962 7.19182L11.2651 7.22551L14.6505 7.5792L12.1241 9.85296L11.8883 10.0719L11.9557 10.3751L12.6631 13.6931L9.7156 12.0088L9.44612 11.8404L9.17664 12.0088L6.22917 13.6931L6.93656 10.3751L7.00393 10.0719L6.76813 9.85296L4.24173 7.5792L7.62711 7.22551L7.93028 7.19182L8.06502 6.9055L9.44612 3.7896Z"
                                                  fill="#C8B477" />
                                        </g>
                                    </svg>
                                }
                            }
                            <div class=" text-xs scale-110" title="club rating">
                                @item.AverageRating
                            </div>
                        </div>

                        <div class="flex items-center gap-1 scale-75">
                            <div class="flex items-center  " title="comment">

                                <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16"
                                     fill="none">
                                    <path d="M1.52429 2.90909V12.8487H6.35078L8.06975 14.5455L9.78872 12.8487H14.6152V2.90909H1.52429ZM2.53129 3.90305H13.6082V11.8548H9.37176L8.06975 13.1399L6.76774 11.8548H2.53129V3.90305ZM4.54527 5.394V6.38796H11.5942V5.394H4.54527ZM4.54527 7.38192V8.37589H11.5942V7.38192H4.54527ZM4.54527 9.36985V10.3638H9.58024V9.36985H4.54527Z"
                                          fill="#BCB08A" />
                                </svg>
                            </div>
                            <div class=" text-xs scale-110">@item.TotalComment</div>
                        </div>
                    </section>

                    <!-- club description -->

                    <section class="flex flex-col gap-2 px-4 mb-3 ">
                        <p class="line-clamp-3 font-[Noto Sans] text-xs   text-[#333333]">
                            @item.ClubDescription
                        </p>
                        @*<a href="#" class=" flex border justify-between pl-[40%] border-[#D75A8B] px-6 h-8 w-full items-center"
                               title="see full comment" onclick="ClubDetailActionFunction('@item.LocationId', '@item.ClubId')">

                                <div class="text-[10px] font-bold self-center flex  text-end text-primary see_more text-[#D75A8B]">
                                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.See_more
                                </div>
                                <i class="material-icons text-primary float-right">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="7" height="12" viewBox="0 0 7 12" fill="none">
                                        <path d="M0.9375 11.8594L6.4375 6.35938L6.78125 6L6.4375 5.64063L0.937501 0.140625L0.21875 0.859375L5.35938 6L0.218749 11.1406L0.9375 11.8594Z"
                                              fill="#E3A1A1" />
                                    </svg>
                                </i>
                            </a>*@
                    </section>

                    <!-- club schedule  -->
                    @*<div>
                            <div class=" text-[10px] flex border-t border-b border-[#EFEFEF] justify-between px-[17px] border-custom">
                                @foreach (var item2 in item.ClubWeeklyScheduleList)
                                {
                                    if (!string.IsNullOrEmpty(item2.EnglishDay) && item2.EnglishDay.ToUpper().Trim() == "SAT")
                                    {
                                        <div class="text-blue">
                                            @item2.DayLabel
                                        </div>
                                    }
                                    else if (!string.IsNullOrEmpty(item2.EnglishDay) && item2.EnglishDay.ToUpper().Trim() == "SUN")
                                    {

                                        <div class="text-red">
                                            @item2.DayLabel
                                        </div>
                                    }
                                    else
                                    {
                                        <div>
                                            @item2.DayLabel
                                        </div>
                                    }
                                }
                            </div>
                            <div class="text-[10px] flex border-t border-b border-[#EFEFEF] justify-between px-[17px] border-custom">
                                @foreach (var item2 in item.ClubWeeklyScheduleList)
                                {
                                    var imageURL = "/Content/assets/images/" + item2.Schedule + ".svg";
                                    if (!string.IsNullOrEmpty(item2.Schedule) && item2.Schedule.Trim().ToUpper() == "RESERVABLE")
                                    {
                                        <div onclick="ClubReservationActionFunction('@item.ClubId', '@item.ClubName','@item2.FullDate')">
                                            @item2.Date <div class="flex justify-center mt-1">
                                                <img src="@imageURL" class="h-[11px] w-[11px]">
                                            </div>
                                        </div>
                                    }
                                    else
                                    {
                                        <div>
                                            @item2.Date <div class="flex justify-center mt-1">
                                                <img src="@imageURL" class="h-[11px] w-[11px]">
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                        </div>*@
                    <div class="px-4 py-[12px] flex justify-between items-center">
                        <div>
                            @if (!string.IsNullOrEmpty(@item.ClubOpeningTime) && !string.IsNullOrEmpty(@item.ClubClosingTime))
                            {
                                <div class="flex justify-center items-center gap-1 pb-1">
                                    @if (!string.IsNullOrEmpty(@item.ClubTimePeriod) && @item.ClubTimePeriod.Trim().ToUpper() == "DAY")
                                    {
                                        <div class="h-4 w-4 rounded-[2px] bg-[#F89336] flex justify-center items-center">
                                            <img src="~/Content/assets/images/customer/sun.svg" />
                                        </div>
                                    }
                                    else if (!string.IsNullOrEmpty(@item.ClubTimePeriod) && @item.ClubTimePeriod.Trim().ToUpper() == "NIGHT")
                                    {
                                        <div class="h-4 w-4 rounded-[2px] bg-[#F89336] flex justify-center items-center">
                                            <img src="~/Content/assets/images/customer/moon.svg" />
                                        </div>
                                    }
                                    <div class="text-sm text-secondary-1">@item.ClubOpeningTime~@item.ClubClosingTime</div>
                                </div>
                                if (!string.IsNullOrEmpty(item.TodaysClubSchedule) && item.TodaysClubSchedule.Trim().ToUpper() == "RESERVABLE")
                                {
                                    <div class="bg-[#BCB08A] text-white w-max px-2 rounded-[2px] text-xs h-[18px] flex items-center justify-center">
                                        @CRS.CUSTOMER.APPLICATION.Resources.Resource.Reservable
                                    </div>
                                }
                                else
                                {
                                    <div class="bg-[#D7D7D7] text-white w-max px-2 rounded-[2px] text-xs h-[18px] flex items-center justify-center">
                                        @CRS.CUSTOMER.APPLICATION.Resources.Resource.Unreservable
                                    </div>
                                }
                            }
                        </div>

                        <button class="btn-gradient" onclick="ClubReservationActionFunction('@item.ClubId', '@item.ClubName')">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Book_Now
                        </button>

                    </div>

                </div>
            }
            <div id="pagination-container" class="flex justify-between pagination-container-wrapper my-[7px] ">
                <button id="prev-btn" class="next-prev-btn" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                        <path d="M10.707 2.13599C10.8945 2.32351 10.9998 2.57782 10.9998 2.84299C10.9998 3.10815 10.8945 3.36246 10.707 3.54999L5.75705 8.49999L10.707 13.45C10.8892 13.6386 10.99 13.8912 10.9877 14.1534C10.9854 14.4156 10.8803 14.6664 10.6949 14.8518C10.5095 15.0372 10.2586 15.1424 9.99645 15.1447C9.73425 15.1469 9.48165 15.0461 9.29305 14.864L3.63605 9.20699C3.44858 9.01946 3.34326 8.76515 3.34326 8.49999C3.34326 8.23482 3.44858 7.98052 3.63605 7.79299L9.29305 2.13599C9.48058 1.94852 9.73488 1.8432 10 1.8432C10.2652 1.8432 10.5195 1.94852 10.707 2.13599Z" fill="#959595" />
                    </svg>
                </button>
                <div id="page-numbers" class=" page-number-list flex justify-between w-full"></div>
                <button id="next-btn" class="next-prev-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                        <path d="M5.29295 2.13605C5.10548 2.32358 5.00017 2.57788 5.00017 2.84305C5.00017 3.10821 5.10548 3.36252 5.29295 3.55005L10.243 8.50005L5.29295 13.45C5.11079 13.6387 5.01 13.8913 5.01228 14.1535C5.01456 14.4156 5.11973 14.6665 5.30513 14.8519C5.49054 15.0373 5.74135 15.1424 6.00355 15.1447C6.26575 15.147 6.51835 15.0462 6.70695 14.864L12.364 9.20705C12.5514 9.01952 12.6567 8.76521 12.6567 8.50005C12.6567 8.23488 12.5514 7.98058 12.364 7.79305L6.70695 2.13605C6.51942 1.94858 6.26512 1.84326 5.99995 1.84326C5.73479 1.84326 5.48048 1.94858 5.29295 2.13605Z" fill="#959595" />
                    </svg>
                </button>
            </div>


        </div>
        <div id="tab2" class="tab-content-plane hidden">
            <!-- one row for club card  -->
            <div class="grid grid-cols-3 justify-center  hover:cursor-pointer  py-4 px-[8px] gap-2 ">
                @foreach (var item in Model.HostListModel)
                {
                    <div class="h-auto flex flex-col justify-end  text-center relative rounded-sm">

                        <div class="w-full">
                            <a class="" href="/LocationManagement/ViewHostDetail?HostId=@item.HostId">
                                @if (!string.IsNullOrEmpty(item.HostImage))
                                {
                                    <img class="w-full h-[157px]  object-cover rounded-sm" src="@item.HostImage" />
                                }
                                else
                                {
                                    <img class="w-full h-[157px]  object-cover rounded-sm" src="~/Content/assets/images/customer/demo-image.jpeg" />
                                }
                            </a>
                        </div>
                        <div class="absolute w-full flex flex-row">

                            <div style="background-color: #000000B2; " class=" rounded rounded-b-[2px] w-full  p-1  justify-start  flex   flex-col   ">
                                <div class=" flex flex-row justify-center  text-xs  ">
                                    <div class="text-[12px] font-[700] pl-[2px] text-[#FFFFFF]">後藤聖輝</div>
                                </div>
                                <div class="flex flex-row items-center justify-center   ">
                                    <div class=" font-[700] pl-[2px]">
                                        @if (!string.IsNullOrEmpty(item.ClubLogo))
                                        {
                                            <img class="h-[11px]  w-[11px] rounded-full" src="@item.ClubLogo"
                                                 alt="club">
                                        }
                                        else
                                        {
                                            <img class="h-[11px]  w-[11px] rounded-full" src="~/Content/assets/images/customer/demo-image.jpeg"
                                                 alt="club">
                                        }
                                    </div>
                                    <div class="text-[10px] text-[#FFFFFF] text-start ml-[4px] font-[400] h-[15px] overflow-hidden">
                                        @item.ClubName
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    @*<div class="h-auto flex flex-col justify-end  text-center relative">
                            <div class="w-full flex">
                                <a class="" href="/LocationManagement/ViewHostDetail?HostId=@item.HostId">
                                    @if (!string.IsNullOrEmpty(item.HostImage))
                                    {
                                        <img class=" w-full h-[157px]  object-fill rounded" src="@item.HostImage" />
                                    }
                                    else
                                    {
                                        <img class=" w-full h-[157px]  object-fill rounded" src="~/Content/assets/images/customer/demo-image.jpeg" />
                                    }
                                </a>
                            </div>
                            <div class="absolute mb-[8px] w-full flex flex-row px-2 py-[2px]">
                                <div style="border-radius:2px;  "
                                     class="  w-full bg-[#ffffffe6]  p-1  justify-start rounded-b flex   flex-col   ">
                                    <div class=" flex flex-row   text-xs  ">
                                        <div class="text-[12px] font-[700] pl-[2px] text-ellipsis-customer h-[18px]">@item.HostName</div>
                                    </div>
                                    <div class="flex flex-row items-center   ">
                                        <div class=" font-[700] pl-[2px]">
                                            @if (!string.IsNullOrEmpty(item.ClubLogo))
                                            {
                                                <img class="h-[11px]  w-[11px] rounded-full" src="@item.ClubLogo"
                                                     alt="club">
                                            }
                                            else
                                            {
                                                <img class="h-[11px]  w-[11px] rounded-full" src="~/Content/assets/images/customer/demo-image.jpeg"
                                                     alt="club">
                                            }

                                        </div>
                                        <div class="text-[10px] text-start ml-[4px] font-[400] h-[15px] text-ellipsis-customer h-[14px]">
                                            @item.ClubName
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>*@
                }
            </div>
            @*<div id="pagination-container" class="flex justify-between pagination-container-wrapper my-[7px] ">
                    <button id="prev-btn-second" class="next-prev-btn" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                            <path d="M10.707 2.13599C10.8945 2.32351 10.9998 2.57782 10.9998 2.84299C10.9998 3.10815 10.8945 3.36246 10.707 3.54999L5.75705 8.49999L10.707 13.45C10.8892 13.6386 10.99 13.8912 10.9877 14.1534C10.9854 14.4156 10.8803 14.6664 10.6949 14.8518C10.5095 15.0372 10.2586 15.1424 9.99645 15.1447C9.73425 15.1469 9.48165 15.0461 9.29305 14.864L3.63605 9.20699C3.44858 9.01946 3.34326 8.76515 3.34326 8.49999C3.34326 8.23482 3.44858 7.98052 3.63605 7.79299L9.29305 2.13599C9.48058 1.94852 9.73488 1.8432 10 1.8432C10.2652 1.8432 10.5195 1.94852 10.707 2.13599Z" fill="#959595" />
                        </svg>
                    </button>
                    <div id="page-numbers-second" class=" page-number-list flex justify-between w-full"></div>
                    <button id="next-btn-second" class="next-prev-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                            <path d="M5.29295 2.13605C5.10548 2.32358 5.00017 2.57788 5.00017 2.84305C5.00017 3.10821 5.10548 3.36252 5.29295 3.55005L10.243 8.50005L5.29295 13.45C5.11079 13.6387 5.01 13.8913 5.01228 14.1535C5.01456 14.4156 5.11973 14.6665 5.30513 14.8519C5.49054 15.0373 5.74135 15.1424 6.00355 15.1447C6.26575 15.147 6.51835 15.0462 6.70695 14.864L12.364 9.20705C12.5514 9.01952 12.6567 8.76521 12.6567 8.50005C12.6567 8.23488 12.5514 7.98058 12.364 7.79305L6.70695 2.13605C6.51942 1.94858 6.26512 1.84326 5.99995 1.84326C5.73479 1.84326 5.48048 1.94858 5.29295 2.13605Z" fill="#959595" />
                        </svg>
                    </button>
                </div>*@
            <!-- one row end  -->
        </div>

    </div>
</div>
<div class="flex flex-col ">
    <div>
    </div>
    <div class=" ">
        <div>
        </div>
        <div style="background-color: #FFFFFF;" class="flex flex-row items-center justify-end gap-1 pr-[16px] my-[12px]">
            <div class="flex flex-row items-center justify-end gap-1 pr-[16px] my-[12px]" id="scrollToTopButton">

                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M7.99996 2.34375L1.89062 8.45308L2.60929 9.15575L7.99996 3.76508L13.3906 9.15575L14.1093 8.45308L7.99996 2.34375ZM7.99996 5.84375L1.89062 11.9531L2.60929 12.6557L7.99996 7.26508L13.3906 12.6557L14.1093 11.9531L7.99996 5.84375Z"
                              fill="#040000" />
                    </svg>
                </div>
                <div class="font-normal text-[12px] leading-[16.34px] text-[#000]">
                    トップに戻る

                </div>
            </div>
        </div>
    </div>
</div>
<form action="/LocationManagement/Index" method="get" id="club-pagination-form-id">
    <input name="LocationId" value="@Model.RequestModel.LocationId" hidden />
    <input name="GroupId" value="" id="club-pagination-group-id" hidden />
</form>
<form action="/LocationManagement/Index" method="get" id="host-pagination-form-id">
    <input name="LocationId" value="@Model.RequestModel.LocationId" hidden />
    <input name="GroupId" value="" id="host-pagination-group-id" hidden />
    <input name="ClubId" value="" id="host-pagination-club-id" hidden />
    <input name="PageNo" value="" id="host-pagination-page-id" hidden />
</form>
<!-- The Modal -->
<div id="myModal" class="my-custom-modal">
    <span class="close" onclick="closeImagePopup();">&times;</span>
    <img class="my-modal-content" id="img01">
</div>
<div class="loader" id="loader-id">
    <img src="~/Content/assets/images/loader.gif" class="h-[150px]" />
</div>
<!-- #endregion -->
@section scripts
{
    <script>
        $(document).ready(function () {
           var RenderValue = '@ViewBag.RenderValue';
            var tab1Button = document.getElementById("tab1Button");
            var tab2Button = document.getElementById("tab2Button");

            if (RenderValue && (RenderValue === "host" || RenderValue === "club")) {
                if (RenderValue === "host") {
                    tab1Button.classList.remove("active");
                    tab2Button.classList.add("active");
                    tab1.classList.add("hidden");
                    tab2.classList.remove("hidden");
                } else {
                    tab2Button.classList.remove("active");
                    tab1Button.classList.add("active");
                    tab2.classList.add("hidden");
                    tab1.classList.remove("hidden");
                }
            }


            let currentPage = @Model.RequestModel.GroupId??1;
            const totalPages = @ViewBag.TotalGroupCount??0; // Define the total number of pages
            let currentPageSecond = @Model.RequestModel.PageNo?? 1;
            @*var tuplesJson = @Html.Raw(Json.Encode(ViewBag.TuplesJson));
            var tuples = JSON.parse(tuplesJson);*@
            //const tuplesCount = tuples.length;
            //const totalPagesSecond = tuplesCount; // Define the total number of pages

            function updatePagination() {
                // Clear existing page numbers
                $('#page-numbers').empty();

                // Show "prev" button and update its disabled state
                $('#prev-btn').prop('disabled', currentPage === 1);

                // Show page numbers based on current page
                for (let i = currentPage; i <= Math.min(currentPage + 4, totalPages); i++) {
                    let sum = totalPages - currentPage;
                    if (sum < 4 && currentPage === totalPages - sum && i === currentPage) {
                        for (let j = 6; j < 10; j++) {
                            if (totalPages - sum <= j) {
                                break
                            }
                            const pageElement = $('<div>' + j + '</div>');
                            $('#page-numbers').append(pageElement);
                        }
                    }
                    const pageElement = $('<div onclick=ClubFunction(' + i + ');>' + i + '</div>');
                    // Add "active" class to the current page
                    if (i === currentPage) {
                        pageElement.addClass('active');
                    }
                    $('#page-numbers').append(pageElement);
                }
                // Show "next" button and update its disabled state
                $('#next-btn').prop('disabled', currentPage === totalPages);
            }

            @*// Initial rendering
            function updatePaginationSecond() {
                // Clear existing page numbers
                $('#page-numbers-second').empty();

                // Show "prev" button and update its disabled state
                $('#prev-btn-second').prop('disabled', currentPageSecond === 1);

                // Show page numbers based on current page
                for (let i = currentPageSecond; i <= Math.min(currentPageSecond + 4, totalPagesSecond); i++) {

                    let sum = totalPagesSecond - currentPageSecond;
                    if (sum < 4 && currentPageSecond === totalPagesSecond - sum && i === currentPageSecond) {
                        for (let j = 6; j < 10; j++) {
                            if (totalPagesSecond - sum <= j) {
                                break
                            }
                            const pageElement = $('<div>' + j + '</div>');
                            $('#page-numbers-second').append(pageElement);
                        }
                    }
                    const clubIdValue = tuples[i-1]?.Item2;
                    const pageElement = $("<div onclick=HostFunction('" + i + "','" + @Model.RequestModel.GroupId + "','" + clubIdValue + "');>" + i + "</div>");
                    // Add "active" class to the current page
                    if (i === currentPageSecond) {
                        pageElement.addClass('active');
                    }
                    $('#page-numbers-second').append(pageElement);
                }
                // Show "next" button and update its disabled state
                $('#next-btn-second').prop('disabled', currentPageSecond === totalPagesSecond);
            }*@

            updatePagination();
          /*  updatePaginationSecond();*/
            // Handle "prev" button click
            $('#prev-btn').on('click', function () {
                if (currentPage > 1) {
                    currentPage--;
                    ClubFunction(currentPage);
                    updatePagination();
                }
            });

            //$('#prev-btn-second').on('click', function () {
            //    if (currentPageSecond > 1) {
            //        currentPageSecond--;
            //        updatePaginationSecond();
            //    }
            //});

            // Handle "next" button click
            $('#next-btn').on('click', function () {
                if (currentPage < totalPages) {
                    currentPage = Math.min(currentPage + 1, totalPages);
                    ClubFunction(currentPage);
                    updatePagination();
                }
            });
            //$('#next-btn-second').on('click', function () {
            //    if (currentPageSecond < totalPagesSecond) {
            //        currentPageSecond = Math.min(currentPageSecond + 1, totalPagesSecond);
            //        updatePaginationSecond();
            //    }
            //});
            setTimeout(LoaderFunction, 2000);
        });
        function LoaderFunction() {
            var myDiv = document.getElementById("loader-id");
            myDiv.style.display = "none";
        }
    </script>
    <script src="~/Content/CustomHelper.js"></script>
    <!-- cursol script -->
    <script>function OpenImagePopup(ImageURL) {
            if (ImageURL != '' && ImageURL != null) {
                var modalImg = document.getElementById("img01");
                var modal = document.getElementById("myModal");
                modal.style.display = "block";
                modalImg.src = ImageURL;
            }
        }

        function closeImagePopup() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        }

        $(document).ready(function () {
            $('.owl-carousel').owlCarousel({
                loop: true,
                margin: 10,
                responsive: {
                    0: {
                        items: 1
                    },
                    600: {
                        items: 3
                    },
                    1000: {
                        items: 5
                    }
                }
            })

            localStorage.clear();
        })</script>
    <script>
        function ClubDetailActionFunction(i, j) {
            window.location.href = "/LocationManagement/ClubDetail_V2?LocationId=" + i + "&&ClubId=" + j;
        }
        function ClubReservationActionFunction(i, j, k) {
            DataStorageFunction(i, j);
            window.location.href = "/LocationManagement/ClubReservation?ClubId=" + i + "&SelectedDate=" + k;
        }

        function redirectToSearchPage() {

           var locationId = '@ViewBag.LocationId';

            var searchUrl = `/LocationManagement/SearchFilter?locationId=${locationId}`

            window.location.href = searchUrl;
        }

        function handleAddBookmarks(clubId, hostId, agentType) {
            ActivateLoaderFunction();
            $.ajax({
              url: '/BookmarkManagement/AddBookmarks',
              type: 'POST',
              data: { clubId: clubId, hostId: hostId, agentType: agentType },
              success: function (result) {
                  if (result.success) {
                      location.reload();
                  } else {
                      // Handle failure, e.g., show an error message
                      console.log('Error: ' + result.message);
                      location.reload();
                  }
              },
              error: function () {
                  // Handle unexpected errors
                  console.log('An unexpected error occurred.');
                  location.reload();
              }
          });
        }

        function handleRemoveBookmarks(clubId, hostId, agentType) {
            ActivateLoaderFunction();
            $.ajax({
                url: '/BookmarkManagement/RemoveBookmarks',
                type: 'POST',
                data: { clubId: clubId, hostId: hostId, agentType: agentType },
                success: function (result) {
                    if (result.success) {
                        location.reload();
                    } else {
                        // Handle failure, e.g., show an error message
                        console.log('Error: ' + result.message);
                        location.reload();
                    }
                },
                error: function () {
                    // Handle unexpected errors
                    console.log('An unexpected error occurred.');
                    location.reload();
                }
            });
        }

         function ActivateLoaderFunction() {
             var myDiv = document.getElementById("loader-id");
             myDiv.style.display = "flex";
        }
        function DeactivateLoaderFunction() {
             var myDiv = document.getElementById("loader-id");
             myDiv.style.display = "none";
         }
    </script>
    <script>const DataStorageFunction = (i, j) => {
            localStorage.setItem("ClubId", EncryptParameter(i));
            localStorage.setItem("ClubName", EncryptParameter(j));
        }</script>
    <script>function ClubFunction(i) {
            $('#club-pagination-group-id').val(i);
            var form = document.getElementById("club-pagination-form-id");
            form.submit();

        }
        function HostFunction(i, j, k) {
            $('#host-pagination-page-id').val(i);
            $('#host-pagination-group-id').val(j);
            $('#host-pagination-club-id').val(k);
            var form = document.getElementById("host-pagination-form-id");
            form.submit();
        }</script>
}
