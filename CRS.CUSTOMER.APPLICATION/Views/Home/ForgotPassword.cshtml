
@using Newtonsoft.Json

@functions {
    public dynamic ReadJson()
    {
        string filePath = HttpContext.Current.Server.MapPath("~/App_Data/RedirectURLConfiguration.json");
        string jsonContent = System.IO.File.ReadAllText(filePath);
        var jsonData = JsonConvert.DeserializeObject<dynamic>(jsonContent);
        return jsonData;
    }
}
@{
    var jsonData = ReadJson();
}

@model CRS.CUSTOMER.APPLICATION.Models.Home.ForgotPasswordModel

@{
    ViewBag.Title = "パスワードの再設定‖ホスログ《 ホストクラブ初回来店・ネット予約 》";
    Layout = null;
}

<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/Content/assets/css/tailwind.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/global_v1.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/club.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/customcss.css">
    <link rel="stylesheet" href="/Content/assets/css/owl-carousel/owl.carousel.min.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/responsive.css">
    <link rel="stylesheet" href="/Content/assets/css/owl-carousel/owl.theme.default.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet" />
    <script src="/Content/assets/js/owl.carousel.js"></script>
    <script src="/Content/assets/js/modal.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/tw-elements.min.css" />
    <link rel="stylesheet"
          href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet"
          href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-css/1.4.6/select2-bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.min.js"></script>
    <script src="/Content/js/NotificationMessageToaster.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <title> @ViewBag.Title</title>
</head>

<body class="md:hidden">
    <style>
        .forgetPasswordWrapper {
            display: inline-flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
            margin: 16px 0;
        }

        .header {
            color: #18181B;
            font-size: 16px;
            font-style: normal;
            font-weight: 700;
            line-height: 16px;
        }

        .suggestionText {
            color: #A1A1AA;
            text-align: center;
            font-size: 10px;
            font-style: normal;
            font-weight: 500;
            line-height: 16px;
        }

        /*    .inputWrapper {
            border: 1px solid #ECECEC;
            border-radius: 4px;
        }*/
        /*
            .inputWrapper > input {
                border: none;
                outline: none;
            }*/

        .message {
            font-size: 12px;
            letter-spacing: 0.4px;
        }

        .btn {
            background: #D75A8B;
            padding: 8px 12px;
            color: #fff;
            font-weight: 700;
            line-height: 24px;
            font-size: 14px;
            margin-top: 18px;
        }

        .inputContainer {
            background: none;
        }

        input:focus {
            border-color: #d75a8b !important;
            --tw-ring-shadow: none !important;
        }

        @@media(min-width: 1005px) {
            #leftfix {
                top: 10%;
                max-width: 300px;
            }

            #innerfixed {
                top: 10%;
                max-width: 300px;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 300px !important;
                height: 76px !important;
            }

            .imgclassfirst {
                width: 300px !important;
                height: 152px !important;
            }
        }

        @@media(min-width: 640px) and (max-width: 730px) {

            #innerfixed {
                top: 24% !important;
                max-width: 126px !important;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 126px !important;
                height: 35px !important;
            }

            .imgclassfirst {
                width: 126px !important;
                height: 63px !important;
            }
        }


        @@media(min-width: 731px) and (max-width: 800px) {

            #innerfixed {
                top: 24% !important;
                max-width: 158px !important;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 158px !important;
                height: 76px !important;
            }

            .imgclassfirst {
                width: 158px !important;
                height: 100px !important;
            }
        }

        @@media(min-width: 801px) and (max-width: 900px) {

            #innerfixed {
                top: 15% !important;
                max-width: 191px !important;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 191px !important;
                height: 76px !important;
            }

            .imgclassfirst {
                width: 191px !important;
                height: 100px !important;
            }
        }

        @@media(min-width: 901px) and (max-width: 970px) {

            #innerfixed {
                top: 9% !important;
                max-width: 252px !important;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 252px !important;
                height: 76px !important;
            }

            .imgclassfirst {
                width: 252px !important;
                height: 152px !important;
            }
        }

        @@media(min-width: 918px) and (max-width: 1004px) {

            #innerfixed {
                top: 9% !important;
                max-width: 230px !important;
            }

            .image-container {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }

                .image-container img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                }

            .imgclasssecond {
                width: 300px !important;
                height: 76px !important;
            }

            .imgclassfirst {
                width: 300px !important;
                height: 152px !important;
            }
        }
    </style>
    <style>
        .modal-content {
            max-width: 100%;
            width: 400px;
        }

        .save_modal-content {
            background: #fff;
            max-width: 100%;
            width: 312px;
            padding-top: 32px;
            padding-bottom: 32px;
        }

        .modal_header {
            color: var(--1_Darker_Primary, #D17979);
            text-align: center;
            font-size: 14px;
            font-style: normal;
            font-weight: 700;
            line-height: 100%; /* 14px */
        }

        .save_cont {
            margin-top: 18px;
        }

        .savebtn {
            color: #FFF;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            padding-top: 14px;
            padding-bottom: 14px;
            padding-right: 32px;
            padding-left: 32px;
            gap: 12px;
            border-radius: 4px;
            background: var(--Darker_Primary, #D75A8B);
        }

        input:focus {
            border: 1px solid #d75a8b !important;
        }

        input:focus-visible {
            border: 1px solid #d75a8b !important;
            outline: none
        }

        ul.delete-confirm {
            list-style-type: circle;
            width: 80%;
            margin: 14px auto;
            color: #292F33;
        }

        ul li {
            text-align: start;
            gap: 5px;
            margin-bottom: 5px;
            padding-left: 12px;
            color: #292F33;
        }

        li::marker {
            content: "\25CF";
            color: #292F33;
            font-size: 0.5em;
        }

        .disabled-div {
            opacity: 0.5;
            pointer-events: none;
            background: #F0F0F0;
            color: #BEBEBE;
        }

        .savebtndivcss {
            cursor: not-allowed;
            pointer-events: none;
        }
        /* custom select*/
        .custom-select {
            position: relative;
            display: inline-block;
        }

        select {
            appearance: none;
            padding-right: 30px; /* Space for the custom arrow */
        }

        .custom-arrow {
            position: absolute;
            right: 13px; /* Adjust this to move the icon horizontally */
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none; /* Ensures the arrow does not block clicks */
        }

        .profileimg2 {
            width: 100%;
            height: 100%;
        }

        .editoption2 {
            margin-left: 44px;
            /* margin-top: 44px; */
            height: 24px;
            width: 24px;
            border-radius: 55px;
            justify-items: center;
            position: absolute;
            background-color: #fff;
            top: 41px;
            border: 1px solid #e8e8e8;
            z-index: 0;
        }
    </style>
    <div id="test">
        <div id="leftcontent" style="margin-top: 30%; " class="flex  flex-col items-center ">
            <div id="leftfix" class="fixed">
                <a href="/" class="flex flex-row justify-center">
                    <img src="~/content/assets/images/bglogo.png" />
                </a>
                <div id="siteurl" class="flex flex-row justify-center">
                    <p style="font-size: 25px; font-weight: 600; margin-bottom: 26px" class="text-black">https://hoslog.jp/  </p>
                </div>

                <a href="@jsonData.CustomerRegistration.url" style="max-width: 300px; height: 57px; background-color: #D75A8B; border-radius: 2px; cursor: pointer; " class="flex flex-row justify-center items-center text-center">
                    <div>
                        <p style="font-size:18px;font-weight:600 ; " class="text-white">@jsonData.CustomerRegistration.text</p>
                    </div>
                </a>
                <a href="@jsonData.ClubRegistration.url" target="_blank" style="max-width: 300px; height: 57px; border-radius: 2px; box-shadow: 0px 0px 12px 0px rgba(30, 34, 75, 0.15); cursor: pointer; " class="flex flex-row justify-center items-center bg-white mt-3">
                    <div>
                        <p style="font-size:18px;font-weight:600" class="text-black">@jsonData.ClubRegistration.text</p>
                    </div>
                </a>
                <a href="@jsonData.AffiliateRegistration.url" target="_blank" style="max-width: 300px; height: 57px; border-radius: 2px; box-shadow: 0px 0px 12px 0px rgba(30, 34, 75, 0.15); cursor:pointer; " class="flex flex-row justify-center items-center bg-white mt-3">
                    <div>
                        <p style="font-size:18px;font-weight:600" class="text-black">@jsonData.AffiliateRegistration.text</p>
                    </div>
                </a>

                @*<a href="https://hoslog.jp/user/register" style="max-width: 300px; height: 57px; background-color: #D75A8B; border-radius: 2px; cursor: pointer; " class="flex flex-row justify-center items-center text-center">
            <div>
                <p style="font-size:18px;font-weight:600 ; " class="text-white">新規会員登録</p>
            </div>
        </a>
        <a href="https://owner.hoslog.jp/owner/register/" target="_blank" style="max-width: 300px; height: 57px; border-radius: 2px; box-shadow: 0px 0px 12px 0px rgba(30, 34, 75, 0.15); cursor: pointer; " class="flex flex-row justify-center items-center bg-white mt-3">
            <div>
                <p style="font-size:18px;font-weight:600" class="text-black">店舗オーナー登録</p>
            </div>
        </a>
        <a href="https://affiliate.hoslog.jp/auth/register" target="_blank" style="max-width: 300px; height: 57px; border-radius: 2px; box-shadow: 0px 0px 12px 0px rgba(30, 34, 75, 0.15); cursor:pointer; " class="flex flex-row justify-center items-center bg-white mt-3">
            <div>
                <p style="font-size:18px;font-weight:600" class="text-black">アフィリエイター登録</p>
            </div>
        </a>*@
            </div>



        </div>
        <div id="innersec">
            @* <div>*@
            <!-- for back button -->
            <div class="flex items-center  border-b border-b-[#E8E8E8] sticky top-0 bg-white z-[10] relative px-4 py-[10px] h-[44px]" id="backbutton_id">
                <div class="flex gap-2 items-center absolute top-[12px] text-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M15.2347 2.74084C14.7855 2.29167 14.0614 2.29167 13.6122 2.74084L5.99469 10.3583C5.63719 10.7158 5.63719 11.2933 5.99469 11.6508L13.6122 19.2683C14.0614 19.7175 14.7855 19.7175 15.2347 19.2683C15.6839 18.8192 15.6839 18.095 15.2347 17.6458L8.59802 11L15.2439 4.35417C15.6839 3.91417 15.6839 3.18084 15.2347 2.74084Z"
                              fill="#BCB08A" />
                    </svg>戻る
                </div>
                <div class="text-center w-full font-bold"></div>
            </div>
            <!-- back button end -->
            <div class=" px-6">
                <!-- for request for forget password -->
                <div class="forgetPasswordWrapper">
                    <div class="header">
                        パスワードを忘れの方
                    </div>
                    <div class="suggestionText">パスワードをリセットするには電話番号を入力してください</div>
                </div>
                <!-- for contact number input field -->
                @using (Html.BeginForm("ForgotPassword", "Home", new { }, FormMethod.Post, new { @role = "form", @id = "fpform", @class = "form form-login" }))
                {
                    <input type="hidden" value="" id="timet" name="timet" />
                    @Html.HiddenFor(m => m.CaptureTime);
                    @Html.AntiForgeryToken()
                    <div class="inputWrapper">
                        @Html.TextBoxFor(model => model.MobileNo, new
                   {
                       @class = "contactNumber w-full ring-0 border-1",
                       @placeholder = "携帯電話番号",
                       @type = "number",
                       @style = "border:1px solid #F1F1F1; border-radius:4px",
                       oninput = "limitInputLength(this, 11)",
                       @id = "mobileNoInput"
                   })
                    </div>
                    <span class="validationMessage">
                        @Html.ValidationMessageFor(m => m.MobileNo, "", new { @class = "error-validation-msg" })
                    </span>
                    <!-- for message -->
                    <div class="text-[#18181B] font-medium text-center leading-4 tracking-wider message mt-4">
                        SMSの受信拒否設定がされてないことを確認の上、以下のボタンを押してください
                    </div>
                }
                <!-- for sebding code  -->
                <div>
                    <button type="submit" class="btn border rounded-lg  w-full" id="btnCl" name="FormSubmit" value="Next">認証コードを受け取る</button>
                </div>
            </div>
        </div>

        <!--<div id="rightcontent" style="margin-top: 10%; " class="flex flex-col items-center">
        <div id="innerfixed" class="fixed   flex flex-col gap-2">-->
        @* <div >*@
        <!--<img src="../../content/assets/images/hpi1.jpeg" style="width:inherit" />-->
        @* </div>
            <div>*@
        <!--<img src="../../content/assets/images/hpi2.jpeg" style="width:inherit" />-->
        @*  </div>
            <div>*@
        <!--<img src="../../content/assets/images/hpi3.jpeg" style="width:inherit" />-->
        @*</div>
            <div>*@
        <!--<img src="../../content/assets/images/hpi4.jpeg" style="width:inherit" />-->
        @*  </div>
            <div>*@
        <!--<img src="../../content/assets/images/hpi5.jpeg" style="width:inherit" />-->
        @* </div>
            <div>*@
        <!--<img src="../../content/assets/images/hpi6.jpeg" style="width:inherit" />-->
        @*  </div>*@
        <!--</div>

        </div>-->


        <div id="rightcontent" style="margin-top: 10%; " class="flex flex-col items-center">
            <div id="innerfixed" class="fixed   flex flex-col gap-2">
                @{
                    if (Session["AdvertisementImage"] != null)
                    {
                        var advertisementimage = Session["AdvertisementImage"] as List<CRS.CUSTOMER.SHARED.CommonManagement.AdvertisementCommon>;
                        if (advertisementimage != null && advertisementimage.Count > 0)
                        {
                            var i = 0;
                            foreach (var item in advertisementimage)
                            {
                                @*<img src="@item"  style="width:300px;height:152px;"/>*@
                                if (item.status.ToUpper() == "A")
                                {
                                    if (i < 2)
                                    {
                                        <div class="image-container">
                                            <a href="@item.link" target="_blank">
                                                <img src="@item.image" class="imgclassfirst" alt="Advertisement Image" />
                                            </a>
                                            @*<img src="@item.image" class="imgclassfirst" />*@
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="image-container">
                                            <a href="@item.link" target="_blank">
                                                <img src="@item.image" class="imgclasssecond" alt="Advertisement Image" />
                                            </a>
                                            @*<img src="@item.image" class="imgclasssecond" />*@
                                        </div>
                                    }
                                }

                                i++;

                            }
                        }
                    }

                }
            </div>

        </div>

    </div>
    <div id="confimation_modal" class="modal modalWrapper "
         style="display:none;">
        <div class="save_modal-content relative" style="max-width: 312px; border-radius: 15px;">
            <span class=" absolute  z-30 text-[#fff] text-[28px] cursor-pointer right-3" onclick="closeModal('confimation_modal')"
                  style="top:-49px">&times;</span>
            <div class="flex flex-col gap-1">
                <div class="modal_header">
                    このページを離れますか?
                </div>
                <div class="text-[12px] flex justify-center mb-2">
                    行った操作が保存されない可能性があります。
                </div>
            </div>
            <div class="border"></div>
            <div class="save_cont flex gap-2 justify-center mt-4">
                <button onclick="window.location.href='/login'" type="submit" class="savebtn w-[135px]">
                    はい
                </button>
                <div onclick="closeModal('confimation_modal')" class="flex justify-center items-center underline px-8 w-[135px]">
                    いいえ
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">

        function limitInputLength(input, maxLength) {
            var value = input.value;
            // Remove non-numeric characters
            var numericValue = value.replace(/\D/g, '');
            // Trim to maximum length
            var trimmedValue = numericValue.substring(0, maxLength);
            // Update input value
            input.value = trimmedValue;


        }

        $("#btnCl").click(function (e) {
            e.preventDefault();
            var date = new Date();
            var year = date.getFullYear();  // yields year
            var month = ('0' + (date.getMonth() + 1)).slice(-2);// yields month (add one as '.getMonth()' is zero indexed)
            var day = ('0' + (date.getDate())).slice(-2);      // yields date //date.getDate();
            var hour = ('0' + (date.getHours())).slice(-2); // date.getHours();     // yields hours
            var minute = ('0' + (date.getMinutes())).slice(-2);//date.getMinutes(); // yields minutes
            var second = ('0' + (date.getSeconds())).slice(-2);// date.getSeconds(); // yields seconds
            var miliseconds = ('00' + date.getMilliseconds()).slice(-3);
            // After this construct a string with the above results as below
            var time = year + "-" + month + "-" + day + " " + hour + ':' + minute + ':' + second + ':' + miliseconds;
            $("#CaptureTime").val(time);
            $("#timet").val(time);
            $("#fpform").submit();
        });
    </script>
    <script src="/Content/js/NotificationMessageToaster.js"></script>
    <script>
    //For toaster Notification
    $(function () {
    {
        @if (TempData["Notifications"] != null)
        {
            var messages = (List<CRS.CUSTOMER.SHARED.NotificationModel>)TempData["Notifications"];
            foreach (var note in messages)
            {
                <text>showNotification("@note.Message", "@note.Title", "@note.NotificationType");</text>
            }
        }
        @{
            ViewBag.Notifications = string.Empty;
        }
        }
    });
    </script>
    <script src="~/Content/validation.js"></script>

    <script>
        document.getElementById('mobileNoInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault();  // Prevent form submission on Enter key
                document.getElementById('btnCl').click();  // Trigger button click
            }
        });
    </script>
    <script>
        $('#backbutton_id').click(function () {
            openModal('confimation_modal')
        });
    </script>
    @*<script>
            window.onbeforeunload = function () {
                openModal('confimation_modal');
            }
        </script>*@
</body>
</html>