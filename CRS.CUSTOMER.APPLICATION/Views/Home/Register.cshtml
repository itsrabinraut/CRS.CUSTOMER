@model CRS.CUSTOMER.APPLICATION.Models.Home.RegistrationHoldModel
@{
    ViewBag.Title = "Customer Registration";
    Layout = "";
}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="~/Content/assets/css/customer/customcss.css" rel="stylesheet" />
    <link href="~/Content/assets/css/customer/global.css" rel="stylesheet" />
    <link href="~/Content/assets/css/customer/club.css" rel="stylesheet" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
          integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="~/Content/js/NotificationMessageToaster.js"></script>
    <title>Hoslog | Customer | @ViewBag.Title</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+JP:wght@400;500;600;700;800&family=PT+Sans:wght@400;700&family=Poppins:wght@500;600;700&family=Roboto+Condensed:wght@500;600;700&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /*font-family: 'Noto Sans JP', sans-serif;*/
            font-family: 'Noto Sans JP';
            color: #292f33;
            font-size: 16px;
        }
    </style>
</head>

<body class="md:hidden">
    <div class="mx-[16px]">
        <div class="flex justify-start flex-row mt-5" onclick="window.location.href='@Url.Action("HomePage","Home")'">
            <div class="flex justify-center items-center">
                <div class="pr-2 cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="11" height="18" viewBox="0 0 11 18" fill="none">
                        <path d="M10.2352 0.740836C9.78601 0.29167 9.06184 0.29167 8.61268 0.740836L0.995176 8.35834C0.637676 8.71584 0.637676 9.29333 0.995176 9.65084L8.61268 17.2683C9.06184 17.7175 9.78601 17.7175 10.2352 17.2683C10.6843 16.8192 10.6843 16.095 10.2352 15.6458L3.59851 9L10.2443 2.35417C10.6843 1.91417 10.6843 1.18084 10.2352 0.740836Z" fill="#BCB08A" />
                    </svg>
                </div>
                <a class="text-[#292F33]">
                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Back
                </a>
            </div>
        </div>
        <div class="flex flex-col">
            @using (Html.BeginForm("Register", "Home", FormMethod.Post, new { @role = "form", @id = "Form" }))
            {
                @Html.AntiForgeryToken()
                <input value="@ViewBag.ReferCode" name="ReferCode" hidden />
                <p class="font-semibold mt-[50px] uppercase">@CRS.CUSTOMER.APPLICATION.Resources.Resource.Nickname <span class="text-[#D32F2F] pl-1 font-bold">*</span></p>
                <div class="flex flex-row justify-center items-center mt-4 input-field-common">
                    @Html.TextBoxFor(model => model.NickName, new { @class = "text-sm w-full p-2.5 border border-[#BEBEBE] rounded-[3px] focus:border-[#d75a8b]", @placeholder = @CRS.CUSTOMER.APPLICATION.Resources.Resource.Enter_nickname, @onkeypress = "return isAlphabateOnly(event)", autocomplete = "off" })
                </div>
                <span class="validationMessage">
                    @Html.ValidationMessageFor(m => m.NickName)
                </span>

                <p class="font-semibold mt-[16px]">
                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Mobile <span class="text-[#D32F2F] pl-1 font-bold">*</span>
                </p>
                <div class="input-field-common w-full mt-4 login-number">
                    <div class="number-input">
                        <div class="flag-section">
                            <div class="japan-flag rounded-[2px] border border-[#BDBDBD h-[14px]">
                                <div class="!h-[6px] !w-[6px]"></div>
                            </div>
                            @*<div>
                                    +81
                                </div>*@
                            <div class="line-y">
                            </div>
                        </div>
                        @Html.TextBoxFor(model => model.MobileNumber, new { @class = "rounded-none w-full focus:border-[#d75a8b]", @placeholder = CRS.CUSTOMER.APPLICATION.Resources.Resource.Phone_no, @minlength = "11", @maxlength = "11", @onkeypress = "return isNumber(event)", autocomplete = "off" })
                    </div>

                    <span class="validationMessage">
                        @Html.ValidationMessageFor(m => m.MobileNumber)
                    </span>
                </div>
                <div class="flex justify-center pt-[30px]">
                    <p class="font-semibold text-[14px]">
                        @CRS.CUSTOMER.APPLICATION.Resources.Resource.The_code_will_be_sent_through_SMS
                    </p>
                </div>

                <div class="px-4">
                    <button class="flex w-full focus-visible:outline-none rounded-full cursor-pointer justify-center items-center text-white h-[48px] mt-[25px] bg-[#D75A8B]"
                            type="submit">
                        @CRS.CUSTOMER.APPLICATION.Resources.Resource.Next
                    </button>
                </div>
            }
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">
        $("#FormSubmit").click(function (event) {
            var MobileNumber = $('#MobileNumber').val();
            var NickName = $('#NickName').val();
            if (MobileNumber != "" && NickName != "") {
                $("#Form").submit();
            }
            if (MobileNumber == "" && NickName == "") {
                event.preventDefault();
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid text-danger");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error text-danger").html("Mobile Number is required");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-valid text-danger");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-error text-danger").html("Nick Name is required");
                return false;
            }
            if (MobileNumber == "") {
                event.preventDefault();
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid text-danger");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error text-danger").html("Mobile Number is required");
                return false;
            }
            else {
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error").html("");
            }
            if (NickName == "") {
                event.preventDefault();
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-valid text-danger");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-error text-danger").html("Nick Name is required");
                return false;
            }
        });
    </script>
    <script src="~/Content/validation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
    <script>
    //For toaster Notification
    $(function () {
    {
        @if (TempData["Notifications"] != null)
        {
            var messages = (List<CRS.CUSTOMER.SHARED.NotificationModel>)TempData["Notifications"];
            foreach (var note in messages)
            {
                <text>showNotification("@note.Message", "@note.Title", "@note.NotificationType");</text>
            }

        }
        @{
            ViewBag.Notifications = string.Empty;
        }
        }
    });

    </script>
</body>
</html>