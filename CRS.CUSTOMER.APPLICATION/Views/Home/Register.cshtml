@model CRS.CUSTOMER.APPLICATION.Models.Home.RegistrationHoldModel
@{
    ViewBag.Title = "Customer Registration";
    Layout = "";
}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/Content/assets/css/tailwind.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/global.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/club.css">
    <link rel="stylesheet" href="/Content/assets/css/customer/customcss.css">
    <link rel="stylesheet" href="/Content/assets/css/owl-carousel/owl.carousel.min.css">
    <link rel="stylesheet" href="/Content/assets/css/owl-carousel/owl.theme.default.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet" />
    <script src="/Content/assets/js/owl.carousel.js"></script>
    <script src="/Content/assets/js/modal.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/tw-elements.min.css" />
    <link rel="stylesheet"
          href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet"
          href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-css/1.4.6/select2-bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.4/js/select2.min.js"></script>
    <script src="/Content/js/NotificationMessageToaster.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <title>Hoslog | @ViewBag.Title</title>
</head>

<body class="md:hidden">
    <!--<div class="mx-[16px]">-->
    @*<div class="flex justify-start flex-row mt-5" onclick="window.location.href='@Url.Action("HomePage","Home")'">
            <div class="flex justify-center items-center">
                <div class="pr-2 cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="11" height="18" viewBox="0 0 11 18" fill="none">
                        <path d="M10.2352 0.740836C9.78601 0.29167 9.06184 0.29167 8.61268 0.740836L0.995176 8.35834C0.637676 8.71584 0.637676 9.29333 0.995176 9.65084L8.61268 17.2683C9.06184 17.7175 9.78601 17.7175 10.2352 17.2683C10.6843 16.8192 10.6843 16.095 10.2352 15.6458L3.59851 9L10.2443 2.35417C10.6843 1.91417 10.6843 1.18084 10.2352 0.740836Z" fill="#BCB08A" />
                    </svg>
                </div>
                <a class="text-[#292F33]">
                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Back
                </a>
            </div>
        </div>*@
    <!--<!--<div class="flex flex-col">-->
    <!--@* @using (Html.BeginForm("Register", "Home", FormMethod.Post, new { @role = "form", @id = "Form" }))
    {
        @Html.AntiForgeryToken()
        <input value="@ViewBag.ReferCode" name="ReferCode" hidden />
        <p class="font-semibold mt-[50px] uppercase">@CRS.CUSTOMER.APPLICATION.Resources.Resource.Nickname <span class="text-[#D32F2F] pl-1 font-bold">*</span></p>
        <div class="flex flex-row justify-center items-center mt-4 input-field-common">
            @Html.TextBoxFor(model => model.NickName, new { @class = "text-sm w-full p-2.5 border border-[#BEBEBE] rounded-[3px] focus:border-[#d75a8b]", @placeholder = @CRS.CUSTOMER.APPLICATION.Resources.Resource.Enter_nickname, @onkeypress = "return isAlphabateOnly(event)", autocomplete = "off" })
        </div>
        <span class="validationMessage">
            @Html.ValidationMessageFor(m => m.NickName)
        </span>

        <p class="font-semibold mt-[16px]">
            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Mobile <span class="text-[#D32F2F] pl-1 font-bold">*</span>
        </p>
        <div class="input-field-common w-full mt-4 login-number">
            <div class="number-input">
                <div class="flag-section">
                    <div class="japan-flag rounded-[2px] border border-[#BDBDBD h-[14px]">
                        <div class="!h-[6px] !w-[6px]"></div>
                    </div>
                    @*<div>
                            +81
                        </div>
        <div class="line-y">
        </div>
    </div>
                    @Html.TextBoxFor(model => model.MobileNumber, new { @class = "rounded-none w-full focus:border-[#d75a8b]", @placeholder = CRS.CUSTOMER.APPLICATION.Resources.Resource.Phone_no, @minlength = "11", @maxlength = "11", @onkeypress = "return isNumber(event)", autocomplete = "off" })
                </div>

                <span class="validationMessage">
                    @Html.ValidationMessageFor(m => m.MobileNumber)
                </span>
            </div>
            <div class="flex justify-center pt-[30px]">
                <p class="font-semibold text-[14px]">
                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.The_code_will_be_sent_through_SMS
                </p>
            </div>

            <div class="px-4">
                <button class="flex w-full focus-visible:outline-none rounded-full cursor-pointer justify-center items-center text-white h-[48px] mt-[25px] bg-[#D75A8B]"
                        type="submit">
                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Next
                </button>
            </div>
        }*@-->
    <!--</div>-->
    <!--</div>-->

    <style>
        .borderTop {
            border-top: 1px solid #ECECEC;
        }

        .loginContainer {
            padding: 0 24px;

        }

        .register {
            color: #18181B;
            font-weight: 700;
            line-height: 16px;
            font-size: 16px;
            padding-top: 16px;
            padding-bottom: 16px;
        }

        .inputWrapper {
            border: 1px solid #ECECEC;
            border-radius: 4px;
        }

            .inputWrapper > input {
                border: none;
                outline: none;
                background: none;
            }

                .inputWrapper > input :focus {
                    shape-outside: none;
                    border: none;
                    outline: none;
                }

                .inputWrapper > input::placeholder {
                    color: #A6A6A6;
                    font-family: "Noto Sans JP";
                    font-size: 12px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: 18px;
                }

        .policy {
            color: #151B2C;
            font-family: "Noto Sans";
            font-size: 12px;
            font-style: normal;
            font-weight: 400;
            line-height: 16px;
        }

            .policy > span {
                color: #839AD6;
                font-family: "Noto Sans";
                font-size: 12px;
                font-style: normal;
                font-weight: 600;
                line-height: 16px;
                /* 133.333% */
            }

        .forgetPassword {
            color: #839AD6;
            font-family: "Noto Sans";
            font-size: 10px;
            font-style: normal;
            font-weight: 700;
            line-height: 16px;
            letter-spacing: 0.4px;
        }

        .registerButton {
            color: #FFF;
            font-family: "Noto Sans";
            font-size: 14px;
            font-style: normal;
            font-weight: 700;
            line-height: 24px;
            border-radius: 8px;
            background: #D75A8B;
            padding: 8px 12px;
            margin-top:30px;
        }

        .loginButton {
            background: #FAFAFA;
            padding: 8px 12px;
            color: #666;
            font-weight: 600;
            line-height: 23px;
            font-size: 14px;
            margin-top: 18px;
            border: 1px solid #F1F1F1;
            letter-spacing: -0.165px;
        }

        .termsAndContion {
            color: rgba(24, 24, 27, 0.60);
            font-weight: 700;
        }

        .termLink {
            color: #839AD6;
            font-size: 11px;
        }

        .spertator {
            /* width: 20%; */
            width: calc((100% - 185px)/2);
            height: 1px;
            background-color: #A1A1AA;
        }

        .otherAccotunt {
            color: #666;
            text-align: center;
            font-family: "Noto Sans";
            font-size: 12px;
            font-style: normal;
            font-weight: 500;
            line-height: 166%;
            padding: 0 13px;
            white-space:nowrap;
        }

        .affiliation {
            display: flex;
            padding: 4px 0px;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 18px;
        }

        .affiliationText {
            color: #839AD6;
            text-align: center;
            font-family: "Noto Sans JP";
            font-size: 12px;
            font-style: normal;
            font-weight: 700;
            line-height: 166%;
            display:none;
        }

        .dividerCol {
            color: #999;
            text-align: center;
            font-family: "Noto Sans JP";
            font-size: 11px;
            font-style: normal;
            font-weight: 700;
            line-height: 166%;
            display: none;
            /* 18.26px */
        }

        .smsText {
            color: #18181B;
            text-align: center;
            font-family: "Noto Sans";
            font-size: 12px;
            font-style: normal;
            font-weight: 500;
            line-height: 16px;
            letter-spacing: 0.4px;
            margin-top: 18px;
        }

        .checkBox {
            border: 0.5px solid #D9D9D9;
            border-radius: 1.5px;
            color: #D75A8B;
        }

            .checkBox:focus {
                border: 0.5px solid #D9D9D9;
                border-radius: 1.5px;
            }

        input {
            --tw-ring-shadow: 0 0 #000 !important;
        }
    </style>
    <div class="borderTop  ">
        <!-- for back button -->
        <div class="flex items-center  border-b border-b-[#E8E8E8] sticky top-0 bg-white z-[10] relative px-4 py-[10px] h-[44px]">
            <div class="flex gap-2 items-center absolute top-[12px] text-sm" onclick="window.location.href='@Url.Action("Index","Home")'">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path d="M15.2347 2.74084C14.7855 2.29167 14.0614 2.29167 13.6122 2.74084L5.99469 10.3583C5.63719 10.7158 5.63719 11.2933 5.99469 11.6508L13.6122 19.2683C14.0614 19.7175 14.7855 19.7175 15.2347 19.2683C15.6839 18.8192 15.6839 18.095 15.2347 17.6458L8.59802 11L15.2439 4.35417C15.6839 3.91417 15.6839 3.18084 15.2347 2.74084Z"
                          fill="#BCB08A" />
                </svg>戻る
            </div>
            <div class="text-center w-full font-bold"></div>
        </div>
        <!-- back button end -->
        <div class="loginContainer">
            <div class="register">新しくホスログを始める</div>
            @using (Html.BeginForm("Register", "Home", FormMethod.Post, new { @role = "form", @id = "Form" }))
            {
                @Html.AntiForgeryToken()
                <input value="@ViewBag.ReferCode" name="ReferCode" hidden />
                <div class="inputWrapper">
                    @Html.TextBoxFor(model => model.NickName, new { @class = "focus:outline-none w-full ring-0 focus:ring-0 focus:ring-transparent", @placeholder = "ニックネーム", @oninput = "validateInput(this)", autocomplete = "off" ,@maxlength = "30" })
                    @*<input type="text" value="" name="nickName"
                        class=" focus:outline-none w-full ring-0 focus:ring-0 focus:ring-transparent" placeholder="ミクチャン"
                        required>*@
                </div>
                <span class="validationMessage">
                    @Html.ValidationMessageFor(m => m.NickName,"", new { @class = "error-validation-msg" })
                </span>
                <div class="inputWrapper mt-2">
                    @Html.TextBoxFor(model => model.MobileNumber, new { @class = "w-full ring-0 focus:ring-0 focus:ring-transparent",@type="number", @placeholder = "携帯電話番号", @minlength = "11", @maxlength = "11",   oninput = "limitInputLength(this, 11)", autocomplete = "off" })
                    @*<input type="number" name="contactNumber" value=""
                        class="w-full ring-0 focus:ring-0 focus:ring-transparent" placeholder="携帯電話番号" required>*@
                </div>
                <span class="validationMessage">
                    @Html.ValidationMessageFor(m => m.MobileNumber, "", new { @class = "error-validation-msg" })
                </span>
                <!-- for check box -->
                <div class="checkbox mt-4">
                    <div class="flex justify-start items-start gap-2">
                        <input type="checkbox" name="policy" id="policy" class="checkBox focus:outline-none bg-none ring-offset-0 ring-0 focus:ring-0 focus:ring-transparent focus:ring-shadow-none">
                        <label for="policy" class="policy ">
                            @*<a href="@Url.Action("termsAndCondition","Footer")" class="termLink">利用規約</a><span>と</span>
                            <a href="@Url.Action("privacypolicy","Footer")" class="termLink">プライバシーポリシ</a>
                            <span>ー に</span>*@
                            <span>  <a href="@Url.Action("termsAndCondition","Footer")"> 利用規約 </a></span> と <span> <a href="@Url.Action("privacypolicy","Footer")"> プライバシーポリ</a></span> シー に同意したものとみなします
                        </label>
                    </div>
                </div>
                <!-- for sms message -->
        <div class="smsText">
            SMSの受信設定をご確認の上、ボタンを押してください
        </div>
                <!-- for register  -->
                <div>
                    <button id="FormSubmit" type="button" class="registerButton border rounded-lg  w-full">認証コードを受け取る</button>
                </div>
            }
            <!-- for login -->
            <div class="mt-3 flex justify-center items-center">
                <div class="border  spertator"></div>
                <span class="otherAccotunt" style="text-transform:uppercase ">既にアカウントをお持ちですか?</span>
                <div class="border  spertator"></div>
            </div>
            <!-- for login -->  
            <div onclick="window.location.href='@Url.Action("Index","Home")'">
                <button type="submit" class="loginButton border rounded-lg  w-full">ログイン</button>
            </div>
            <!-- for affiliation -->
            <div class="affiliation">
                <div class="affiliationText"><a href="#" style="font-family: Noto Sans">アフィリエイター登録</a></div>
                <div class="dividerCol">|</div>
                <div class="affiliationText" style="font-family: Noto Sans">店舗オーナー登録</div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">
       
        $("#FormSubmit").click(function (event) {
            event.preventDefault();
            var MobileNumber = $('#MobileNumber').val();
            var NickName = $('#NickName').val();
            var checkbox = document.getElementById("policy");
            var ischecked = checkbox.checked;
            if (MobileNumber != "" && NickName != "" && ischecked) {
                $("#Form").submit();
            }
            if (MobileNumber == "" && NickName == "") {
                event.preventDefault();
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error").html("この項目は必須です");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-error").html("この項目は必須です");
                return false;
            }
            if (MobileNumber == "") {
                event.preventDefault();
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error").html("この項目は必須です");
                return false;
            }
            else {
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="MobileNumber"]').addClass("field-validation-error").html("");
            }
            if (NickName == "") {
                event.preventDefault();
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-valid");
                $('span[data-valmsg-for="NickName"]').addClass("field-validation-error").html("この項目は必須です");
                return false;
            }
        });

        function validateInput(input) {
            // Regular expression pattern to allow only alphabets (English letters), numbers, underscores, periods, hyphens, and Japanese characters
            var regex = /^[a-zA-Z0-9_\.\-\u3040-\u309f\u30a0-\u30ff]*$/u;
            // Check if the input value matches the pattern
            if (!regex.test(input.value)) {
                // Clear the input value if it doesn't match the pattern
                input.value = input.value.replace(/[^a-zA-Z0-9_\.\-\u3040-\u309f\u30a0-\u30ff]/gu, '');
            }
        }
    </script>
    <script src="~/Content/validation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
    <script>
        function limitInputLength(input, maxLength) {
            var value = input.value;
            // Remove non-numeric characters
            var numericValue = value.replace(/\D/g, '');
            // Trim to maximum length
            var trimmedValue = numericValue.substring(0, maxLength);
            // Update input value
            input.value = trimmedValue;
        }
    //For toaster Notification
    $(function () {
    {
        @if (TempData["Notifications"] != null)
        {
            var messages = (List<CRS.CUSTOMER.SHARED.NotificationModel>)TempData["Notifications"];
            foreach (var note in messages)
            {
                <text>showNotification("@note.Message", "@note.Title", "@note.NotificationType");</text>
            }

        }
        @{
            ViewBag.Notifications = string.Empty;
        }
        }
    });
    </script>
</body>
</html>