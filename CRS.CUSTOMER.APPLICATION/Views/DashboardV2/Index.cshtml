@model CRS.CUSTOMER.APPLICATION.Models.Dashboard.DashboardModel
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #like {
        position: absolute;
        top: 3px;
        right: 3px;
    }

    .inset-0 {
        inset: 5rem !important;
    }
</style>
<!----------------------------------------------------Location---------------------------------------------------->
<style>
    #parent {
        position: relative;
    }

    #drawer-left-example {
        z-index: 1000;
    }

    #child {
        position: absolute;
        top: 170px;
        width: 93.5%;
        margin-left: 16px;
        margin-right: 16px;
        /* left: 0; */
        z-index: 1;
    }

    .owl-theme .owl-dots .owl-dot span {
        width: 8px;
        height: 8px;
    }


    .owl-item .item img {
        width: 298px;
    }

    .owl-carousel .owl-item {
        width: 298px;
    }
</style>
<style>
    .minute-scroll::-webkit-scrollbar {
        display: none;
        /* Hide scrollbar for webkit browsers (Chrome, Safari) */
    }

    .minute-scroll {
        scrollbar-width: none;
    }

    .hours-scroll::-webkit-scrollbar {
        display: none;
        /* Hide scrollbar for webkit browsers (Chrome, Safari) */
    }

    .hours-scroll {
        scrollbar-width: none;
    }

    .picker {
        position: relative;
        width: 300px;
        overflow: hidden;
        margin: 1rem auto 0;
        outline: 1px solid #ccc;
        padding: 0 30px;
    }

    .swiper-container {
        width: 80px;
        height: 210px;
        float: left;
    }

    .swiper-slide {
        color: #18181B;
        text-align: center;
        font-family: "Noto Sans";
        font-size: 16px;
        font-style: normal;
        font-weight: 500;
        line-height: 28px;
        letter-spacing: 0.35px;
        padding: 5px 0;
    }

    .swiper-slide-prev,
    .swiper-slide-next {
        cursor: pointer;
    }

    .swiper-slide-active {
        opacity: 1;
    }

    .vizor {
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
        height: 70px;
        position: absolute;
        top: 50%;
        left: 1rem;
        right: 1rem;
        transform: translateY(-50%);
        font-size: 2rem;
        line-height: 62px;
    }

        .vizor:before,
        .vizor:after {
            content: ':';
            display: inline-block;
            line-height: inherit;
            height: 100%;
            position: absolute;
            top: 0;
            transform: translateX(-50%);
        }

        .vizor:before {
            left: 95px;
        }

        .vizor:after {
            left: 175px;
        }

    .arrows .swiper-container:after,
    .arrows .swiper-container:before {
        content: "";
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 4px;
        border-color: transparent;
        opacity: 0.5;
    }

    .arrows .swiper-container:before {
        top: 0.5rem;
        border-top-width: 0;
        border-bottom-color: currentColor;
    }

    .arrows .swiper-container:after {
        bottom: 0.5rem;
        border-bottom-width: 0;
        border-top-color: currentColor;
    }
</style>
<div id="parent" class="loop owl-carousel kiran owl-theme center-image-slider">
    @foreach (var item in Model.Banners)
    {
        <div class="item h-[180px]">
            @if (!string.IsNullOrEmpty(item.BannerImage))
            {
                <img src="@item.BannerImage" class="absolute block -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="bannerimage">
            }
            else
            {
                <img src="~/Content/assets/images/customer/demo-image.jpeg" class="absolute block -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="bannerimage">
            }
        </div>
    }

</div>
<div class="flex flex-row justify-center">
    <div id="child" style="box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.14);"
         class=" border-[1px] flex flex-col rounded-[8px] border-[#F1F1F1] bg-[#FCF8F9]  h-[196px]  mx-[16px]">
        <div style="background-color: #EEEEEE; margin-left:15px;margin-right:15px; margin-top:24px; "
             class="grid grid-cols-2 text-[14px]  py-[8px] mx-[15px] rounded-[4px] border-black  ">
            <div class="flex pr-[8px]  flex-row gap-[4px] items-center" onclick="GetLocationFilterPopUp();">
                <div class="pl-[8px]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                        <path d="M7.5 2.39062C5.17625 2.39062 3.28125 4.28563 3.28125 6.60938C3.28125 7.26875 3.54875 8.025 3.91125 8.85063C4.27375 9.67625 4.74062 10.5531 5.215 11.37C5.81209 12.3945 6.44733 13.3962 7.11937 14.3731L7.5 14.9294L7.88125 14.3731C7.88125 14.3731 8.83687 13.005 9.785 11.37C10.2594 10.5531 10.7263 9.67625 11.0888 8.85063C11.4513 8.025 11.7188 7.26875 11.7188 6.60938C11.7188 4.28563 9.82375 2.39062 7.5 2.39062ZM7.5 3.32813C9.31875 3.32813 10.7812 4.79063 10.7812 6.60938C10.7812 6.98438 10.58 7.695 10.2394 8.47C9.89875 9.24438 9.42813 10.1031 8.96438 10.9013C8.22875 12.1719 7.77063 12.8444 7.5 13.245C7.22875 12.8444 6.77125 12.1719 6.035 10.9013C5.57188 10.1031 5.10125 9.24438 4.76063 8.47C4.42 7.695 4.21875 6.98438 4.21875 6.60938C4.21875 4.79063 5.68125 3.32813 7.5 3.32813ZM7.5 5.67188C7.25136 5.67188 7.0129 5.77065 6.83709 5.94646C6.66127 6.12228 6.5625 6.36073 6.5625 6.60938C6.5625 6.85802 6.66127 7.09647 6.83709 7.27229C7.0129 7.4481 7.25136 7.54688 7.5 7.54688C7.74864 7.54688 7.9871 7.4481 8.16291 7.27229C8.33873 7.09647 8.4375 6.85802 8.4375 6.60938C8.4375 6.36073 8.33873 6.12228 8.16291 5.94646C7.9871 5.77065 7.74864 5.67188 7.5 5.67188Z"
                              fill="#B08194" />
                    </svg>
                </div>
                <div style="color: #666666" id="selected-locationlabel-id" data-info="">
                    場所
                </div>
            </div>
            <div class="flex flex-row gap-[4px] pl-[8px] pr-[12px]   items-center " style="border-left:1px solid #D6D6D6" onclick="GetPreferenceFilterPopUp();">
                <div>
                    <svg style="margin-left: 8px;" xmlns="http://www.w3.org/2000/svg" width="17" height="18"
                         viewBox="0 0 17 18" fill="none">
                        <path d="M6.74362 3.25108C6.55464 2.40552 5.94181 1.78418 5.2165 1.78418C4.49118 1.78418 3.87838 2.40552 3.68937 3.25108H1.5V4.35125H3.68937C3.87835 5.19681 4.49118 5.81815 5.2165 5.81815C5.94181 5.81815 6.55461 5.19681 6.74362 4.35125H15.5V3.25108H6.74362ZM5.2165 4.71798C4.81858 4.71798 4.49485 4.30669 4.49485 3.80117C4.49485 3.29564 4.81858 2.88435 5.2165 2.88435C5.61441 2.88435 5.93814 3.29564 5.93814 3.80117C5.93814 4.30669 5.61441 4.71798 5.2165 4.71798Z"
                              fill="#B08194" />
                        <path d="M8.5 7.3457C7.77468 7.3457 7.16189 7.96704 6.97287 8.8126H1.5V9.91278H6.97287C7.16186 10.7583 7.77468 11.3797 8.5 11.3797C9.22532 11.3797 9.83811 10.7583 10.0271 9.91278H15.5V8.8126H10.0271C9.83811 7.96704 9.22532 7.3457 8.5 7.3457ZM8.5 10.2795C8.10208 10.2795 7.77835 9.86822 7.77835 9.36269C7.77835 8.85716 8.10208 8.44588 8.5 8.44588C8.89792 8.44588 9.22165 8.85716 9.22165 9.36269C9.22165 9.86822 8.89792 10.2795 8.5 10.2795Z"
                              fill="#B08194" />
                        <path d="M5.2165 12.9072C4.49118 12.9072 3.87838 13.5286 3.68937 14.3741H1.5V15.4743H3.68937C3.87835 16.3199 4.49118 16.9412 5.2165 16.9412C5.94181 16.9412 6.55461 16.3199 6.74362 15.4743H15.5V14.3741H6.74362C6.55461 13.5286 5.94181 12.9072 5.2165 12.9072ZM5.2165 15.841C4.81858 15.841 4.49485 15.4297 4.49485 14.9242C4.49485 14.4187 4.81858 14.0074 5.2165 14.0074C5.61441 14.0074 5.93814 14.4187 5.93814 14.9242C5.93814 15.4297 5.61441 15.841 5.2165 15.841Z"
                              fill="#B08194" />
                    </svg>
                </div>
                <div style="color: #666666" class="text-[14px] font-normal leading-[16px]">
                    こだわり
                </div>
            </div>
        </div>
        <div style="background-color: #EEEEEE;  margin-left:15px;margin-right:15px; margin-top:8px; "
             class="flex flex-row justify-between text-[14px] py-[8px] mx-[15px] rounded-[4px] border-black" onclick="InitiateDateTimeFilterPopupFunction()">
            <div class="flex flex-row gap-[4px] items-center  ">
                <div class="pl-[8px]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                        <path d="M4.78125 3.10938V3.64062H2.65625V15.3281H14.3438V3.64062H12.2188V3.10938H11.1562V3.64062H5.84375V3.10938H4.78125ZM3.71875 4.70312H4.78125V5.23438H5.84375V4.70312H11.1562V5.23438H12.2188V4.70312H13.2812V5.76562H3.71875V4.70312ZM3.71875 6.82812H13.2812V14.2656H3.71875V6.82812ZM6.90625 7.89062V8.95312H7.96875V7.89062H6.90625ZM9.03125 7.89062V8.95312H10.0938V7.89062H9.03125ZM11.1562 7.89062V8.95312H12.2188V7.89062H11.1562ZM4.78125 10.0156V11.0781H5.84375V10.0156H4.78125ZM6.90625 10.0156V11.0781H7.96875V10.0156H6.90625ZM9.03125 10.0156V11.0781H10.0938V10.0156H9.03125ZM11.1562 10.0156V11.0781H12.2188V10.0156H11.1562ZM4.78125 12.1406V13.2031H5.84375V12.1406H4.78125ZM6.90625 12.1406V13.2031H7.96875V12.1406H6.90625ZM9.03125 12.1406V13.2031H10.0938V12.1406H9.03125Z"
                              fill="#B08194" />
                    </svg>
                </div>
                <div style="color: #666666 ; " id="main-date-id">
                    日付
                </div>
            </div>
            <div style="padding-right: 16px; padding-left:16px; border-right:1px solid #D6D6D6; border-left:1px solid #D6D6D6"
                 class="flex flex-row gap-[4px] justify-center  items-center  ">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                        <path d="M8.5 3.10938C4.98454 3.10938 2.125 5.96892 2.125 9.48438C2.125 12.9998 4.98454 15.8594 8.5 15.8594C12.0155 15.8594 14.875 12.9998 14.875 9.48438C14.875 5.96892 12.0155 3.10938 8.5 3.10938ZM8.5 4.17188C11.4403 4.17188 13.8125 6.54408 13.8125 9.48438C13.8125 12.4247 11.4403 14.7969 8.5 14.7969C7.80204 14.798 7.11072 14.6613 6.46567 14.3948C5.82062 14.1282 5.23453 13.7369 4.741 13.2434C4.24746 12.7498 3.85619 12.1638 3.58961 11.5187C3.32303 10.8737 3.18638 10.1823 3.1875 9.48438C3.1875 6.54408 5.55971 4.17188 8.5 4.17188ZM7.96875 5.23438V10.0156H11.6875V8.95312H9.03125V5.23438H7.96875Z"
                              fill="#B08194" />
                    </svg>
                </div>
                <div style="color: #666666" id="main-time-id">
                    時間
                </div>
            </div>
            <div class="flex flex-row gap-[4px]  items-center  ">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                        <path d="M5.28125 4.70312C4.43656 4.70537 3.62711 5.04191 3.02983 5.6392C2.43254 6.23649 2.09599 7.04594 2.09375 7.89062C2.09375 8.94462 2.61225 9.88317 3.40558 10.464C2.0045 11.1589 1.03125 12.5996 1.03125 14.2656H2.09375C2.09282 13.8468 2.17463 13.4319 2.33448 13.0447C2.49434 12.6576 2.72909 12.3058 3.02526 12.0096C3.32144 11.7135 3.6732 11.4787 4.06034 11.3189C4.44749 11.159 4.8624 11.0772 5.28125 11.0781C5.7001 11.0772 6.11501 11.159 6.50216 11.3189C6.8893 11.4787 7.24106 11.7135 7.53724 12.0096C7.83341 12.3058 8.06816 12.6576 8.22802 13.0447C8.38787 13.4319 8.46968 13.8468 8.46875 14.2656H9.53125C9.53032 13.8468 9.61213 13.4319 9.77198 13.0447C9.93184 12.6576 10.1666 12.3058 10.4628 12.0096C10.7589 11.7135 11.1107 11.4787 11.4978 11.3189C11.885 11.159 12.2999 11.0772 12.7188 11.0781C13.1376 11.0772 13.5525 11.159 13.9397 11.3189C14.3268 11.4787 14.6786 11.7135 14.9747 12.0096C15.2709 12.3058 15.5057 12.6576 15.6655 13.0447C15.8254 13.4319 15.9072 13.8468 15.9062 14.2656H16.9688C16.9688 12.5996 15.9955 11.1589 14.5944 10.464C15.0001 10.1685 15.3303 9.78142 15.5582 9.33428C15.7862 8.88713 15.9054 8.39252 15.9062 7.89062C15.9062 6.13679 14.4726 4.70312 12.7188 4.70312C11.8741 4.70537 11.0646 5.04191 10.4673 5.6392C9.87004 6.23649 9.53349 7.04594 9.53125 7.89062C9.53125 8.94462 10.0498 9.88317 10.8431 10.464C10.0669 10.8454 9.42436 11.4529 9 12.2065C8.57564 11.4529 7.9331 10.8454 7.15692 10.464C7.56258 10.1685 7.8928 9.78142 8.12075 9.33428C8.34869 8.88713 8.46792 8.39252 8.46875 7.89062C8.46875 6.13679 7.03508 4.70312 5.28125 4.70312ZM5.28125 5.76562C6.46204 5.76562 7.40625 6.70983 7.40625 7.89062C7.40625 9.07142 6.46204 10.0156 5.28125 10.0156C4.10046 10.0156 3.15625 9.07142 3.15625 7.89062C3.15625 6.70983 4.10046 5.76562 5.28125 5.76562ZM12.7188 5.76562C13.8995 5.76562 14.8438 6.70983 14.8438 7.89062C14.8438 9.07142 13.8995 10.0156 12.7188 10.0156C11.538 10.0156 10.5938 9.07142 10.5938 7.89062C10.5938 6.70983 11.538 5.76562 12.7188 5.76562Z"
                              fill="#B08194" />
                    </svg>
                </div>
                <div style="color: #666666 ; margin-right:30px;" id="main-noofpeople-id">
                    人数
                </div>
            </div>
        </div>
        <div style="margin-left:15px;margin-right:15px; margin-bottom: 24px;" class="flex flex-row justify-center rounded-[8px] bg-[#D75A8B] mt-[16px] disable-click" onclick="SubmitDateTimeFilterFunction();" id="DateTimeFilter-Id">
            <div class="my-[12px] text-[12px] font-[700] text-[#FFF]">
                検索する
            </div>
        </div>
    </div>
</div>
<div class="h-[180px]  ">
</div>
<div style="height:12px; background-color: #e2e2e2;" class=" w-full">
</div>
<div style="border-top: 1px solid #EDEDED;border-bottom: 1px solid #EDEDED;background: #FFF;">
    <div class="flex mx-[16px]   flex-row py-[12px]">
        <div class=" flex flex-row justify-start items-center w-[160px] ">
            <i class="fa-solid fa-location-dot text-primary-100"></i>
            <div class="ml-3 font-[700] text-black text-[14px] leading-[21px]">場所から選ぶ</div>
        </div>
    </div>
    <div class="flex flex-col  gap-[6px] px-4 gap-[6px] pb-[16px]">
        <div class="grid  grid-cols-2 gap-[6px]">
            @{
                if (Model.Location != null && Model.Location.Count > 0)
                {
                    for (int i = 0; (i < 2 && i < Model.Location.Count); i++)
                    {
                        var locationParts = Model.Location[i].LocationDisplayName.Split('/');
                        var beforeSlash = locationParts[0];
                        var afterSlash = locationParts.Length > 1 ? locationParts[1] : "";
                        <div class="relative" onclick="LocationFunction('@Model.Location[i].LocationID')">
                            <div class="innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                                <img class="locationimage" src="@Model.Location[i].LocationImage" alt="location1">
                                <p class="locationtext justify-center text-white font-[600] text-[12px] z-10">
                                    @*@Model.Location[i].LocationName*@
                                    @beforeSlash
                                    <br>
                                    <span class="locationdown text-[8px] font-[500]  text-center">
                                        ( @afterSlash )
                                    </span>
                                </p>
                            </div>
                            <div class="overlay"></div>
                        </div>
                    }
                }
            }
        </div>
        <div class="grid grid-cols-3 gap-[6px]">
            @{
                if (Model.Location != null && Model.Location.Count > 0)
                {
                    for (int i = 2; (i < 5 && i < Model.Location.Count); i++)
                    {
                        var locationParts = Model.Location[i].LocationDisplayName.Split('/');
                        var beforeSlash = locationParts[0];
                        var afterSlash = locationParts.Length > 1 ? locationParts[1] : "";
                        <div class="relative" onclick="LocationFunction('@Model.Location[i].LocationID')">
                            <div class=" innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                                <img class="locationimage" src="@Model.Location[i].LocationImage" alt="location3">
                                <p style="line-height:12px; " class=" locationtext justify-center text-white font-[600] text-[12px] leading-[12px] z-10">
                                    @*@Model.Location[i].LocationName*@
                                    @beforeSlash
                                    <br>
                                    <span style="line-height: 100%;margin-top:4px " class="locationdown text-[8px] leading-[8px] font-[500] pt-[4px]  text-center">
                                        @*( @Model.Location[i].LocationName )*@
                                        ( @afterSlash )
                                    </span>
                                </p>
                            </div>
                            <div class="overlay"></div>
                        </div>
                    }
                }
            }
        </div>
    </div>
</div>
<div style="height:12px; background-color: #e2e2e2;" class="w-full">

</div>
<!----------------------------------------------------Location---------------------------------------------------->
<!----------------------------------------------------Club---------------------------------------------------->
<div class="border-t border-b border-[#EDEDED]">
    <div class="flex mt-[12px]  justify-start mx-[16px] flex-row">
        <div class="  flex flex-row justify-start items-center  ">
            <div class="flex flex-col">
                <div class="font-[700] text-[#333] text-[14px] leading-[20.27px]">オススメのホストクラブ</div>
            </div>
        </div>
    </div>
    <div class="flex  overflow-x-auto flex-row gap-[8px] mx-[16px] my-[12px] no-scrollbar mb-[12px]" id="recommended-club-content-id">
        <!--Ajax call-->
    </div>
</div>
<!----------------------------------------------------Club---------------------------------------------------->
<!----------------------------------------------------Host---------------------------------------------------->
<style>
    #like {
        position: absolute;
        top: 3px;
        right: 3px;
    }
</style>

<div style="background-color: #e2e2e2;" class=" h-[12px]">

</div>
<div style="border: 1px solid #EDEDED;background: #FFF;">

    <!-- clippath -->
    <div class="mx-[16px] mt-[8px]">
        <svg id="clippath" xmlns="http://www.w3.org/2000/svg" width="215" height="27" viewBox="0 0 215 27" fill="none">
            <path d="M0 4C0 1.79086 1.79086 0 4 0H215L202.675 14.4652L215 27H4C1.79086 27 0 25.2091 0 23V4Z"
                  fill="url(#paint0_linear_2051_57311)" />
            <defs>
                <linearGradient id="paint0_linear_2051_57311" x1="21.5" y1="2.7" x2="145.635" y2="106.49"
                                gradientUnits="userSpaceOnUse">
                    <stop stop-color="#99AEFB" />
                    <stop offset="0.578125" stop-color="#F04AA4" />
                    <stop offset="1" stop-color="#E7B282" />
                </linearGradient>
            </defs>
            <image x="7" y="5" width="16" height="16" xlink:href="~/Content/assets/images/customer/slippathsvg.svg" />
            <text y="18" x="25" font-family="Arial" font-size="14" style="font-weight: 700; " fill="#FAFAFA">

                あなたにマッチするホスト
            </text>
        </svg>
    </div>
    <!-- clippath end  -->
    <div style="background-color :#F8F8F8; overflow-y:hidden" class="no-scrollbar flex  overflow-x-auto flex-row gap-[8px] mx-[16px] my-[12px]" id="recommended-host-content-id">
        <!--Ajax call-->
    </div>
</div>
<!----------------------------------------------------Host---------------------------------------------------->
<!-- toggle section -->

<div class="flex flex-col px-[24px] gap-[24px]" style="border-bottom: 4px solid #EFEFEF;">
    <div class="flex tab-container-plane justify-between bg-white gap-[14px]">
        <div>
            <button style="font-weight: 600;font-size: 12px; margin-left: 20px; " id="tab1Button"
                    class="tab-button-plane tab-link active ">
                店舗ランキング
            </button>
        </div>
        <div>
            <button style="font-weight: 600;font-size: 12px; margin-right: 20px; " id="tab2Button"
                    class="tab-button-plane tab-link ">
                ホストランキング
            </button>
        </div>
        @* <div>
                <button style="font-weight: 600;font-size: 12px; margin-left: 20px; " id="tab1Button"
                        class="tab-link active ">
                    店舗ランキング
                </button>
            </div>
            <div>
                <button style="font-weight: 600;font-size: 12px; margin-right: 20px; " id="tab2Button"
                        class="tab-link ">
                    ホストランキング
                </button>
            </div>*@
    </div>
</div>

<div class="bg-white" id="mainpageclubhost-id">

</div>


<!----------------------------------------------------Plan Section---------------------------------------------------->
<!-- #region Plan section -->
<div class="flex flex-col overflow-hidden bg-[#EFDDE4]  py-[25px]">
    <p class="text-[14px] pl-[16px] flex-none  font-[700]">
        @CRS.CUSTOMER.APPLICATION.Resources.Resource.HoslogLimitedPlan
    </p>
    <div class="overflow-x-auto flex bg-[#EFDDE4] w-full no-scrollbar px-4 gap-2 py-4 pt-[70px]">
        @{
            var groupedByPrice = Model.PlanModel.OrderByDescending(p => p.Price)
                .GroupBy(p => p.Price);
            var HighestPrice = Model.PlanModel.OrderByDescending(p => p.Price)
                .GroupBy(p => p.Price).First();

            foreach (var group in groupedByPrice)
            {
                string priceKey = group.Key;
                foreach (var item in group)
                {

                    <div style="box-shadow: 0px 4px 6px -2px rgba(16, 24, 40, 0.03), 0px 12px 16px -4px rgba(16, 24, 40, 0.08);border-radius: 8px;
               border: 1px solid #EAECF0;"
                         class="bg-white w-[272px] pb-6 pt-4 flex flex-col justify-between">
                        <!-- image  -->
                        <div class="px-4">
                            <div class='flex'>
                                <div class="">
                                    @if (item.PlanId == HighestPrice.First().PlanId)
                                    {
                                        <i class="las la-crown linear-gradient-text text-[23px]"></i>
                                        <div class="linear-gradient-text table text-[11px] mt-[-5px] font-bold tracking-[0.5px]">@CRS.CUSTOMER.APPLICATION.Resources.Resource.Popularity</div>
                                    }
                                </div>
                                <div class="flex ml-[35px] mt-[-70px]">
                                    @if (!string.IsNullOrEmpty(item.PlanImage))
                                    {
                                        <img src="@item.PlanImage"
                                             class="w-[80px] h-[100px] object-fit-cover border border-white rounded-[5px] rotate-[12deg] z-[3]"
                                             style="filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));" alt="plan-image" />
                                    }
                                    else
                                    {
                                        <img src="~/Content/assets/images/customer/demo-image.jpeg"
                                             class="w-[80px] h-[100px] object-fit-cover border border-white rounded-[5px] rotate-[12deg] z-[3]"
                                             style="filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));" alt="plan-image" />
                                    }
                                    @if (!string.IsNullOrEmpty(item.PlanImage))
                                    {
                                        <img src="@item.PlanImage"
                                             class="w-[80px] h-[100px] object-fit-cover border border-white rounded-[5px] z-[2] -ml-[25px] rotate-[12deg]"
                                             style="filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));" alt="plan-image" />
                                    }
                                    else
                                    {
                                        <img src="~/Content/assets/images/customer/demo-image.jpeg"
                                             class="w-[80px] h-[100px] object-fit-cover border border-white rounded-[5px] rotate-[12deg] z-[3]"
                                             style="filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));" alt="plan-image" />
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="px-6">
                            <div class="text-center mb-4">
                                <div class="font-bold text-[#404040]">@item.PlanName</div>
                                <div class="text-warmgray-1 text-[11px]">@item.PlanType</div>
                            </div>
                            <div class="text-warmgray-1 text-center  text-[10px] pb-[10px]">@item.Remarks</div>
                            <div>
                                <div class="flex w-full items-center text-warmgray-1 text-[12px] gap-[6px]">
                                    <span style="width:25px">料金</span>
                                    <hr class="w-[191px] bg-[#A09E91]">
                                </div>
                                <div class="text-center">
                                    <div class="text-[36px] text-[#404040]">¥ @priceKey</div>
                                    <div class="text-[10px] text-warmgray-1">@CRS.CUSTOMER.APPLICATION.Resources.Resource.TaxIncluded</div>
                                </div>
                            </div>
                            <div>
                                <div class="flex w-full items-center text-warmgray-1 text-[12px] gap-[6px] mb-4">
                                    
                                    <span style="width:36px">プラン</span>
                                    <hr class=" bg-[#A09E91]" style="width:180px"> 
                                </div>
                                <div class="flex justify-center gap-4 mb-[25px]">
                                    <div class="grid text-center w-full">
                                        <i class="las la-clock text-[28px] text-primaryDark"></i>
                                        <div class="text-[10px] text-[#282828]">
                                            <span class="text-[15px] font-futura font-bold">@item.PlanTime</span>
                                        </div>
                                        <div class="text-[10px] text-[#282828]">@CRS.CUSTOMER.APPLICATION.Resources.Resource.HourSystem</div>
                                    </div>
                                    <div class="grid text-center w-full">
                                        <i class="las la-glass-cheers text-[28px] text-primaryDark"></i>
                                        <div class="text-[10px] text-[#282828]">
                                            <span class="text-[15px] font-futura font-bold">@CRS.CUSTOMER.APPLICATION.Resources.Resource.Drink</span>
                                        </div>
                                        <div class="text-[10px] text-[#282828]">@item.Liquor</div>
                                    </div>
                                    <div class="grid text-center w-full">
                                        <i class="las la-user text-[28px] text-primaryDark"></i>
                                        <div class="text-[10px] text-[#282828]">
                                            <span class="text-[15px] font-futura font-bold">@item.Nomination </span>@CRS.CUSTOMER.APPLICATION.Resources.Resource.UpToPerson
                                        </div>
                                        <div class="text-[10px] text-[#282828]">@CRS.CUSTOMER.APPLICATION.Resources.Resource.OnSiteNomination</div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
        }
    </div>
</div>
<!-- #endregion -->
<!----------------------------------------------------Plan Section---------------------------------------------------->
<!----------------------------------------------------Review Section---------------------------------------------------->
<!-- #region Review section -->
<!-- Review section -->
<div class="pt-[23px]" style="background-color: #F8F8F8 ; padding-top:28px">
    <div style="background-color: #F8F8F8 ;" class='pl-[16px] overflow-x-auto text-sm font-bold'>
        @CRS.CUSTOMER.APPLICATION.Resources.Resource.Top_Reviews
    </div>

    <div style="background-color: #F8F8F8" class=" pb-[16px] flex overflow-x-auto no-scrollbar px-4 gap-4 mt-[12px]">
        <div style="border-radius: 6px; width: 313px; border: 1px solid #EAECF0;" class="  bg-[#F8F8F8] ">
            <div style="border-radius: 6px;border: 1px solid #EAECF0; background: #FFF;box-shadow: 0px 4px 9px 0px rgba(0, 0, 0, 0.04);"
                 class="w-[313px] h-full pb-[14px]">
                <div style="padding: 24px 16px;" class="flex w-full  justify-between flex-row">
                    <div class="flex flex-row items-center w-full">
                        <img src="~/Content/assets/images/customer/CustomerImage.jpg"
                             class="h-[30px] w-[30px] rounded-full  " alt="profileimg">
                        <div class="flex flex-col pl-2 leading-[11px] w-full">
                            <div class="flex justify-between items-center ">
                                <p class=" font-[700] text-[11px] text-start flex">
                                    NecoYanagi
                                </p>
                                <div class=" flex gap-[2px] text-[9px]">
                                    <i class="las la-calendar text-[11px]"></i>
                                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Visited_Date:2023/11/20 14:00
                                </div>
                            </div>
                            <div class="flex gap-1 items-center">
                                <div class="rating-review text-[11px]" id="stars">
                                    @for (int i = 0; i < 5; i++)
                                    {
                                        <div class="rating-review text-[11px]" id="stars">
                                            <svg key={ind} xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                                <path d="M16.3501 6.76236L10.8678 6.18339L8.62355 1.14954L6.37926 6.18339L0.896973 6.76236L4.99185 10.453L3.84865 15.8448L8.62355 13.091L13.3984 15.8448L12.2553 10.453L16.3501 6.76236Z"
                                                      fill="#F89336" />
                                            </svg>

                                        </div>
                                    }
                                </div>
                                <div class="text-[11px] mt-[2px]">5.0</div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="px-3">
                    <div class="text-[8px] font-bold bg-[#FFECEC] rounded-[2px] py-[4px] px-[6px] ">
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Met_handsome_host：
                            <img src="~/Content/assets/images/customer/red--emoji.svg" />
                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Service：
                            <img src="~/Content/assets/images/customer/blue-emoji.svg" />

                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Wish_to_revisit：
                            <img src="~/Content/assets/images/customer/green-emoji.svg" />

                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Cozy：
                            <img src="~/Content/assets/images/customer/green-emoji.svg" />
                        </p>

                    </div>
                    <div class="flex gap-1 items-center mt-2">
                        <div class="text-[11px] font-bold ">#推しが見つかった</div>
                        <div class="linear-gradient rounded-[2px] text-[8px] text-white px-4">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Extended_Course
                        </div>
                    </div>
                    <div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#推しに会えた</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#トークが上手い</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#店内が綺麗</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] blue-dotted ">#イケメンがいた</div>

                    </div>
                    <div class="flex gap-[8px] mt-[9px] p-[14px] bg-[#F6F6F6] border border-[#EAEAEA] rounded-[6px]">
                        <div>
                            <img src="~/Content/assets/images/customer/ACQUAFUKUOKA.jpg"
                                 class="h-[28px] w-[28px]  rounded-full object-cover">
                        </div>
                        <div>
                            <div class="text-[10px] font-bold text-charcolBlack ">ACQUA FUKUOKA</div>
                            <div class="text-[8px] text-[#A09E91] flex gap-[2px] items-center">
                                <svg class="svg-inline--fa fa-location-dot text-primary" aria-hidden="true"
                                     focusable="false" data-prefix="fas" data-icon="location-dot" role="img"
                                     xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                                    <path fill="currentColor"
                                          d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z">
                                    </path>
                                </svg>
                                <!-- <i class="fa-solid fa-location-dot text-primary"></i> Font Awesome fontawesome.com -->
                                歌舞伎町
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div style="border-radius: 6px; width: 313px; border: 1px solid #EAECF0;" class="  bg-[#F8F8F8] ">
            <div style="border-radius: 6px;border: 1px solid #EAECF0; background: #FFF;box-shadow: 0px 4px 9px 0px rgba(0, 0, 0, 0.04);"
                 class="w-[313px] h-full pb-[14px]">
                <div style="padding: 24px 16px;" class="flex w-full  justify-between flex-row">
                    <div class="flex flex-row items-center w-full">
                        <img src="~/Content/assets/images/customer/CustomerImage.jpg"
                             class="h-[30px] w-[30px] rounded-full  " alt="profileimg">
                        <div class="flex flex-col pl-2 leading-[11px] w-full">
                            <div class="flex justify-between items-center ">
                                <p class=" font-[700] text-[11px] text-start flex">
                                    NecoYanagi
                                </p>
                                <div class=" flex gap-[2px] text-[9px]">
                                    <i class="las la-calendar text-[11px]"></i>
                                    @CRS.CUSTOMER.APPLICATION.Resources.Resource.Visited_Date:2023/12/15 14:00
                                </div>
                            </div>
                            <div class="flex gap-1 items-center">
                                @for (int i = 0; i < 4; i++)
                                {
                                    <div class="rating-review text-[11px]" id="stars">
                                        <svg key={ind} xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                            <path d="M16.3501 6.76236L10.8678 6.18339L8.62355 1.14954L6.37926 6.18339L0.896973 6.76236L4.99185 10.453L3.84865 15.8448L8.62355 13.091L13.3984 15.8448L12.2553 10.453L16.3501 6.76236Z"
                                                  fill="#F89336" />
                                        </svg>

                                    </div>
                                }
                                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                                    <g opacity="0.3">
                                        <path d="M9.44612 1.1453L8.95768 2.25692L7.20604 6.18126L2.928 6.63601L1.71533 6.77076L2.62484 7.5792L5.8081 10.4593L4.91544 14.67L4.6628 15.849L5.72389 15.2426L9.44612 13.0868L13.1684 15.2426L14.2294 15.849L13.9768 14.67L13.0841 10.4593L16.2674 7.5792L17.1769 6.77076L15.9642 6.63601L11.6862 6.18126L9.93456 2.25692L9.44612 1.1453ZM9.44612 3.7896L10.8272 6.9055L10.962 7.19182L11.2651 7.22551L14.6505 7.5792L12.1241 9.85296L11.8883 10.0719L11.9557 10.3751L12.6631 13.6931L9.7156 12.0088L9.44612 11.8404L9.17664 12.0088L6.22917 13.6931L6.93656 10.3751L7.00393 10.0719L6.76813 9.85296L4.24173 7.5792L7.62711 7.22551L7.93028 7.19182L8.06502 6.9055L9.44612 3.7896Z"
                                              fill="#C8B477" />
                                    </g>
                                </svg>
                                <div class="text-[11px] mt-[2px]">4.0</div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="px-3">
                    <div class="text-[8px] font-bold bg-[#FFECEC] rounded-[2px] py-[4px] px-[6px] ">
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Met_handsome_host：
                            <img src="~/Content/assets/images/customer/red--emoji.svg" />
                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Service：
                            <img src="~/Content/assets/images/customer/blue-emoji.svg" />

                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Wish_to_revisit：
                            <img src="~/Content/assets/images/customer/green-emoji.svg" />

                        </p>
                        <p class="inline-flex p-[1px] mr-[2px]">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Cozy：
                            <img src="~/Content/assets/images/customer/green-emoji.svg" />
                        </p>

                    </div>
                    <div class="flex gap-1 items-center mt-2">
                        <div class="text-[11px] font-bold ">#推しが見つかった</div>
                        <div class="linear-gradient rounded-[2px] text-[8px] text-white px-4">
                            @CRS.CUSTOMER.APPLICATION.Resources.Resource.Extended_Course
                        </div>
                    </div>
                    <div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#推しに会えた</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#トークが上手い</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] active">#店内が綺麗</div>
                        <div class="review-experience h-[19px] mb-0 text-[10px] blue-dotted ">#イケメンがいた</div>

                    </div>
                    <div class="flex gap-[8px] mt-[9px] p-[14px] bg-[#F6F6F6] border border-[#EAEAEA] rounded-[6px]">
                        <div>
                            <img src="~/Content/assets/images/customer/ACQUALABEL.jpg"
                                 class="h-[28px] w-[28px]   rounded-full">
                        </div>
                        <div>
                            <div class="text-[10px] font-bold text-charcolBlack ">ACQUA LABEL</div>
                            <div class="text-[8px] text-[#A09E91] flex gap-[2px] items-center">
                                <svg class="svg-inline--fa fa-location-dot text-primary" aria-hidden="true"
                                     focusable="false" data-prefix="fas" data-icon="location-dot" role="img"
                                     xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg="">
                                    <path fill="currentColor"
                                          d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z">
                                    </path>
                                </svg>
                                <!-- <i class="fa-solid fa-location-dot text-primary"></i> Font Awesome fontawesome.com -->
                                歌舞伎町
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
<div style="background-color: #e2e2e2; height:12px" class=" h-[12px]">
    
</div>
</div>
@*<div class="loader" id="loader-id">
        <img src="~/Content/assets/images/loader.gif" class="h-[150px]" />
    </div>*@
<!-- review section end -->
<!-- #endregion -->
<!----------------------------------------------------Review Section---------------------------------------------------->
<!----------------------------------------------------Search by condtion---------------------------------------------------->
<!-- search by condtion  -->
<div style="border-top: 1px solid #EDEDED;">
    <div class="flex mx-[16px]   flex-row pb-[10px] mt-[12px]">
        <div class=" flex flex-row justify-start items-center w-[160px] ">
            <div class="font-[700] text-black text-[14px] leading-[21px]">条件から探す</div>
        </div>
    </div>
    <div class="flex flex-col  gap-[6px] px-4  pb-[16px]">
        <div class="grid  grid-cols-2 gap-[6px]">
            <div class="relative" onclick="GetLocationFilterPopUp();">
                <div class="innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/Area.jpg" alt="location1">
                    <p class="locationtext justify-center text-[12px] text-white font-[700] z-10">
                        エリアで検索
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
            <div class="relative" onclick="ClubHostRedirectFunction('club');">
                <div class="innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden  rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/HostClubs.jpg" alt="location2">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        ホストクラブから探す
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
        </div>
        <div class="grid grid-cols-3 gap-[6px]">
            <div class="relative" onclick="ClubHostRedirectFunction('host');">
                <div class=" innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/Hosts.jpg" alt="location3">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        ホストから探す
                        <br>

                    </p>
                </div>
                <div class="overlay"></div>

            </div>
            <div class="relative">
                <div class="innercontainer h-[100px] flex flex-row text-center  justify-center items-center w-full  overflow-hidden rounded-[4px]" onclick="WorkingHoursShowPopup();">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/WorkingHours.jpg" alt="loction4">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        営業時間から探す
                        <br>

                    </p>
                </div>
                <div class="overlay"></div>

            </div>
            <div class="relative">
                <div class="innercontainer h-[100px] flex flex-row text-center justify-center items-center w-full  overflow-hidden rounded-[4px]" onclick="LastEntryShowPopup();">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/LastEntry.jpg" alt="location5">
                    <p class="locationtext justify-center text-[12px] text-white font-[700] z-10">
                        最終入店時間
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>

            </div>
        </div>
    </div>
</div>

<!-- search by condition end  -->
<!-- search by preference  -->

<div style="border-bottom: 1px solid #EDEDED;background: #FFF;">
    <div class="flex mx-[16px]   flex-row pb-[10px] ">
        <div class=" flex flex-row justify-start items-center w-[160px] ">
            <div class=" font-[700] text-black text-[14px]">こだわりから探す</div>
        </div>
    </div>
    <div class="flex flex-col  gap-[6px] px-4 gap-[6px] pb-[16px]">
        <div class="grid  grid-cols-2 gap-[6px]">
            <div class="relative" onclick="PreferenceRedirect('@ApplicationUtilities.EncryptParameter("0").ToString()');">
                <div class="innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/ShopsYouCanVisit.jpg" alt="location1">
                    <p class="locationtext justify-center text-[12px] text-white font-[700] z-10">
                        今すぐ行けるお店
                    </p>
                </div>
                <div class="overlay"></div>

            </div>
            <div class="relative" onclick="PreferenceRedirect('@ApplicationUtilities.EncryptParameter("1").ToString()');">
                <div class="innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden  rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/PrivateReservation.jpg" alt="location2">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        貸し切りOK
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
        </div>
        <div class="grid grid-cols-3 gap-[6px]">
            <div class="relative" onclick="PreferenceRedirect('@ApplicationUtilities.EncryptParameter("2").ToString()');">
                <div class=" innercontainer h-[100px] flex flex-row justify-center text-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/LargeNumber.jpg" alt="location3">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        在籍人数が多い
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
            <div class="relative" onclick="PreferenceRedirect('@ApplicationUtilities.EncryptParameter("3").ToString()');">
                <div class="innercontainer h-[100px] flex flex-row text-center  justify-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/VIPRoomsAvailable.jpg" alt="loction4">
                    <p class=" locationtext justify-center text-[12px] text-white font-[700] z-10">
                        VIPルームあり
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
            <div class="relative" onclick="PreferenceRedirect('@ApplicationUtilities.EncryptParameter("4").ToString()');">
                <div class="innercontainer h-[100px] flex flex-row text-center justify-center items-center w-full  overflow-hidden rounded-[4px]">
                    <img class="locationimage" src="~/Content/assets/images/customer/Dashboard/GirlsNightOut.jpg" alt="location5">
                    <p class="locationtext justify-center text-[12px] text-white font-[700] z-10">
                        女子会向き
                        <br>
                    </p>
                </div>
                <div class="overlay"></div>
            </div>
        </div>
    </div>
</div>

<!-- search by preference   end  -->
<!----------------------------------------------------Search by condtion---------------------------------------------------->
<!----------------------------------------------------Other---------------------------------------------------->
<div style="height:16px; background-color: #e2e2e2;" class=" w-full">
</div>
<div class="flex flex-col ">
    <div>
    </div>
    <div class=" ">
        <div>
        </div>
        <div style="background-color: #FFFFFF;" class="flex flex-row items-center justify-end gap-1 pr-[16px] my-[12px]">
            <div class="flex flex-row items-center justify-end gap-1 pr-[16px] my-[12px]" id="scrollToTopButton">

                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M7.99996 2.34375L1.89062 8.45308L2.60929 9.15575L7.99996 3.76508L13.3906 9.15575L14.1093 8.45308L7.99996 2.34375ZM7.99996 5.84375L1.89062 11.9531L2.60929 12.6557L7.99996 7.26508L13.3906 12.6557L14.1093 11.9531L7.99996 5.84375Z"
                              fill="#040000" />
                    </svg>
                </div>
                <div class="font-normal text-[12px] leading-[16.34px] text-[#000]">
                    トップに戻る

                </div>
            </div>
        </div>
    </div>
</div>
<!----------------------------------------------------Other---------------------------------------------------->
<!--#region Working hours-->
<div id="working-hour-id" class="fixed bottom-0 left-0 right-0 z-40 w-full h-screen overflow-y-auto transition-transform translate-y-full"
     tabindex="-1" aria-labelledby="drawer-bottom-label">
    <div class="h-screen flex flex-col justify-end" style=" background: rgba(27, 27, 27, 0.50); ">
        <div class="text-center text-white mb-2 text-2xl" onclick="WorkingHoursClosePopup();">
            <div data-drawer-hide="drawer-date" aria-controls="drawer-date">
                <i class="fa-solid fa-chevron-down"></i>
            </div>
        </div>
        <div class="px-4 pt-6 pb-6 bg-white  " style="padding-top: 24px; border-radius: 6px 6px 0px 0px;">
            <div class="text-sm text-[#333] font-bold mb-3">Select Working Hours</div>
            <div class=" relative">

                <div class="flex justify-center gap-5 items-center h-[171px] py-6 ">
                    <div class="relative">
                        <div class="  overflow-y-scroll hours-scroll " style="height: 171px; ">
                            <div class="swiper-slide">00</div>
                            <div class="swiper-slide">01</div>
                            <div class="swiper-slide">02</div>
                            <div class="swiper-slide">03</div>
                            <div class="swiper-slide">04</div>
                            <div class="swiper-slide">05</div>
                            <div class="swiper-slide">06</div>
                            <div class="swiper-slide">07</div>
                            <div class="swiper-slide">08</div>
                            <div class="swiper-slide">09</div>
                            <div class="swiper-slide">10</div>
                            <div class="swiper-slide">11</div>
                            <div class="swiper-slide">12</div>
                            <div class="swiper-slide">13</div>
                            <div class="swiper-slide">14</div>
                            <div class="swiper-slide">15</div>
                            <div class="swiper-slide">16</div>
                            <div class="swiper-slide">17</div>
                            <div class="swiper-slide">18</div>
                            <div class="swiper-slide">19</div>
                            <div class="swiper-slide">20</div>
                            <div class="swiper-slide">21</div>
                            <div class="swiper-slide">22</div>
                            <div class="swiper-slide">23</div>
                        </div>
                        <div id="hourShadow" class="absolute  bottom-[56px] h-[36px] w-full " style=" top:40%">
                        </div>
                    </div>
                    <div class="relative" style="height: 72px;">
                        <div class=" overflow-y-scroll   minute-scroll absolute " style="height: 72px;  top:30%">
                            <div class="swiper-slide">00</div>
                            <div class="swiper-slide">30</div>
                            <div class="swiper-slide">00</div>
                            <div class="swiper-slide">30</div>
                            <div class="swiper-slide">00</div>
                        </div>
                        <div id="minuteShadow" class="absolute  bottom-[56px] h-[36px] w-full " style="">

                        </div>

                    </div>
                    <div id="test"
                         class="absolute  bottom-[56px] h-[36px] w-full border border-zinc-300 text-[#18181B] bg-[#333]"
                         style="border-radius: 6px; background: rgba(118, 118, 128, 0.12);">
                    </div>
                </div>

                <input hidden id="hourShadowval" value="00" />
                <input hidden id="minuteShadowval" value="00" />
            </div>
            <button class="btn btn-primary mt-3" style=" border-radius: 8px; " onclick="WorkingHoursSubmitFunction();">
                <a class="h-full w-full">
                    検索
                </a>
            </button>

        </div>

    </div>
</div>
<!--#endregion-->
<!--#region Last entry-->
<div id="last-entry-id" class="fixed bottom-0 left-0 right-0 z-40 w-full h-screen overflow-y-auto transition-transform translate-y-full"
     tabindex="-1" aria-labelledby="drawer-bottom-label">
    <div class="h-screen flex flex-col justify-end" style=" background: rgba(27, 27, 27, 0.50); ">
        <div class="text-center text-white mb-2 text-2xl" onclick="LastEntryClosePopup();">
            <div data-drawer-hide="drawer-date" aria-controls="drawer-date">
                <i class="fa-solid fa-chevron-down"></i>
            </div>
        </div>
        <div class="px-4 pt-6 pb-6 bg-white  " style="padding-top: 24px; border-radius: 6px 6px 0px 0px;">
            <div class="text-sm text-[#333] font-bold mb-3">Select Working Hours</div>
            <div class=" relative">

                <div class="flex justify-center gap-5 items-center h-[171px] py-6 ">
                    <div class="relative">
                        <div class="  overflow-y-scroll hours-scroll " style="height: 171px; ">
                            <div class="swiper-slide">09</div>
                            <div class="swiper-slide">10</div>
                            <div class="swiper-slide">11</div>
                            <div class="swiper-slide">12</div>
                            <div class="swiper-slide">13</div>
                            <div class="swiper-slide">14</div>
                            <div class="swiper-slide">15</div>
                            <div class="swiper-slide">16</div>
                            <div class="swiper-slide">17</div>
                            <div class="swiper-slide">18</div>
                            <div class="swiper-slide">19</div>
                            <div class="swiper-slide">20</div>
                            <div class="swiper-slide">21</div>
                            <div class="swiper-slide">22</div>
                            <div class="swiper-slide">23</div>
                        </div>
                        <div id="hourShadow2" class="absolute  bottom-[56px] h-[36px] w-full " style=" top:40%">
                        </div>
                    </div>
                    <div class="relative" style="height: 72px;">
                        <div class=" overflow-y-scroll   minute-scroll absolute " style="height: 72px;  top:30%">
                            <div class="swiper-slide">00</div>
                            <div class="swiper-slide">30</div>
                            <div class="swiper-slide">00</div>
                            <div class="swiper-slide">30</div>
                            <div class="swiper-slide">00</div>
                        </div>
                        <div id="minuteShadow2" class="absolute  bottom-[56px] h-[36px] w-full " style="">

                        </div>

                    </div>
                    <div id="test"
                         class="absolute  bottom-[56px] h-[36px] w-full border border-zinc-300 text-[#18181B] bg-[#333]"
                         style="border-radius: 6px; background: rgba(118, 118, 128, 0.12);">
                    </div>
                </div>

                <input hidden id="hourShadowval2" value="09" />
                <input hidden id="minuteShadowval2" value="00" />
            </div>
            <button class="btn btn-primary mt-3" style=" border-radius: 8px;" onclick="LastEntrySubmitFunction();">
                <a class="h-full w-full">
                    検索
                </a>
            </button>

        </div>

    </div>
</div>
<!--#endregion-->
@section scripts
{
    <script>
        $(document).ready(function () {
            EnableLoaderFunction();
            $('.owl-carousel').owlCarousel({
                center: true,
                items: 1.25,
                loop: true,
                margin: 3,
                autoplay: true,
                autoplayTimeout: 1000,
                responsive: {
                    400: {
                        items: 1.75,

                    }
                }
            });

            $(window).scroll(function () {
                if ($(this).scrollTop() > 20) {
                    $('#scrollToTopButton').fadeIn();
                } else {
                    $('#scrollToTopButton').fadeOut();
                }
            });

            $('#scrollToTopButton').click(function () {
                $('html, body').animate({ scrollTop: 0 }, 800);
                return false;
            });

            localStorage.clear();
            GetRecommendedClubAndHost();
            GetMainPageClubHost();
            setTimeout(DisableLoaderFunction, 10000);
        });
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVqzKbK_YObo2ivCYETgRkFCdjCFs2aQA&libraries=geometry&callback=initMap" async defer></script>
    <script>
        var CurrentLocationId = 0;

        function initMap() {
           function findNearestLocation(userLocation, locations) {
                var userLatLng = new google.maps.LatLng(userLocation.lat, userLocation.lng);
                var nearestLocation = null;
                var nearestDistance = Number.MAX_VALUE;

                for (var i = 0; i < locations.length; i++) {
                    var locationLatLng = new google.maps.LatLng(locations[i].lat, locations[i].lng);
                    var distance = google.maps.geometry.spherical.computeDistanceBetween(userLatLng, locationLatLng);

                    if (distance < nearestDistance) {
                        nearestDistance = distance;
                        nearestLocation = locations[i];
                    }
                }
               CurrentLocationId = nearestLocation.id;
               $('#current-location-id').val(CurrentLocationId);
            }
            var userLocation = { lat: 0, lng: 0 }; // User's location
            (async () => {
                const rawResponse = await fetch('https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyCVqzKbK_YObo2ivCYETgRkFCdjCFs2aQA', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ "considerIp": "true" }),
                });
                const content = await rawResponse.json();
                userLocation.lat = content.location.lat;
                userLocation.lng = content.location.lng;
            })();
            var locations = JSON.parse(@Html.Raw(Json.Encode(ViewBag.JsonLocation)));
            findNearestLocation(userLocation, locations);
        }

        function GetRecommendedClubAndHost() {
            $.ajax({
                type: 'GET',
                async: true,
                url: '@Url.Action("GetRecommendedClubAndHost", "DashboardV2")',
                dataType: 'json',
                data: { __RequestVerificationToken: $('input[name="__RequestVerificationToken"]').val(), LocationId: CurrentLocationId },
                success: function (response) {
                    var ResponseModel = response;
                    if (ResponseModel != null && ResponseModel.RecommendedClubModel != null && ResponseModel.RecommendedClubModel.length > 0) {
                        let recommendedClubContentHTML = '';
                        for (var i = 0; i < ResponseModel.RecommendedClubModel.length; i++) {
                            let club = ResponseModel.RecommendedClubModel[i];
                            let clubLogoSrc = club.ClubLogo ? club.ClubLogo : '~/Content/assets/images/customer/demo-image.jpeg';
                            recommendedClubContentHTML += `
                                <a onclick="ClubDetailActionFunction('${club.LocationId}', '${club.ClubId}')">
                                    <div class="flex w-[118px]">
                                        <div style="border-radius: 6px; border: 1px solid #F3F3F3; background: #FFF;" class="flex flex-col w-[118px] px-[8px] py-[10px]">
                                            <div class="flex flex-row justify-center">
                                                <div class="h-[48px] w-[48px]   bg-[#ffffff]  flex flex-row justify-center">
                                                    <img style="border-color:#F1EEEE" class="h-[48px] w-[48px]  border-[1px] rounded-full object-cover" src="${clubLogoSrc}" alt="clublogo" />
                                                </div>
                                            </div>
                                            <div class="flex flex-col">
                                                <div class="flex flex-row mt-[7px] justify-center">
                                                    <p style="line-height: 100%;" class="font-[700] text-[10px] text-clip">${club.ClubNameEnglish}</p>
                                                </div>
                                                <div class="flex flex-row mt-[4px] justify-center">
                                                    <p style="line-height: 100%;" class="font-[400] text-[10px] text-clip ">${club.ClubNameJapanese}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>`;
                        }
                        document.getElementById('recommended-club-content-id').innerHTML = recommendedClubContentHTML;
                    }

                    if (ResponseModel != null && ResponseModel.RecommendedHostModel != null && ResponseModel.RecommendedHostModel.length > 0) {
                        let recommendedHostContentHTML = '';
                        const recommendedHostContentId = document.getElementById('recommended-host-content-id');

                        for (let i = 0; i < ResponseModel.RecommendedHostModel.length; i++) {
                            const host = ResponseModel.RecommendedHostModel[i];
                            const hostImage = host.HostImage || '~/Content/assets/images/customer/demo-image.jpeg';
                            const clubLogo = host.ClubLogo || '~/Content/assets/images/customer/demo-image.jpeg';
                            recommendedHostContentHTML += `
                                <a onclick="window.location.href='/LocationManagement/ViewHostDetail?HostId=${host.HostId}'">
                                    <div class="flex hover:cursor-pointer">
                                        <div style="border-radius: 4px; width:112px" class="w-[112px] h-auto flex flex-col justify-end text-center relative">
                                            <div class="w-full flex justify-center">
                                                <img style="width:112px" class="w-[112px] h-[154px] object-cover rounded-[2px]" src="${hostImage}" alt="hostlogo" />
                                            </div>

                                            <div style="background-color:rgba(0, 0, 0, 0.70); left:0.25px" class="absolute w-[112px] h-[35px] rounded-[2px] flex flex-col right-[2px] left-[2px] py-[2px] px-[4px]">
                                                <strong class="text-[12px] text-[#FFFFFF] font-bold text-center text-clip">${host.HostName}</strong>
                                                <p style="font-weight:400; line-height:100%" class="flex items-center gap-1 text-[10px] justify-center text-[#FFFFFF] text-clip">
                                                    <img src="${clubLogo}" alt="clublogo" class="h-[11px] w-[11px] rounded-full" />
                                                   <span class="text-clip" style="width:inherit"> ${host.ClubNameEnglish}</span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </a>`;
                        }

                        recommendedHostContentId.innerHTML = recommendedHostContentHTML;
                    }

                },
                error: function (ex) {
                }
            });
            return false;
        }

        function GetMainPageClubHost() {
            $.ajax({
                type: 'GET',
                async: true,
                url: '/DashboardV2/GetMainPageClubHost',
                dataType: 'json',
                data: {
                    LocationId : CurrentLocationId
                },
                success: function (data) {
                    if (!data || data.Code !== 0) {
                        return false;
                    }
                    $('#mainpageclubhost-id').html(data.PartialView);
                },
                error: function (xhr, status, error) {
                    return false;
                }
            });
        }

        function ClubHostRedirectFunction(RenderId) {
            window.location.href = `/LocationManagement/Index?LocationId=${CurrentLocationId}&RenderId=${RenderId}`;
        }

        function PreferenceRedirect(Type) {
            window.location.href = `/DashboardV2/Preference?LocationId=${CurrentLocationId}&Type=${Type}`;
        }

        function CurrentLocationRedirectFunction() {
            window.location.href = "/LocationManagement/Index?LocationId=" + CurrentLocationId;
        }

        const WorkingHoursShowPopup = () => document.getElementById('working-hour-id').classList.remove('translate-y-full');
        const WorkingHoursClosePopup = () => document.getElementById('working-hour-id').classList.add('translate-y-full');

        function WorkingHoursSubmitFunction() {
            var hourValue = $("#hourShadowval").val();
            var minuteValue = $("#minuteShadowval").val();
            var concatenatedTime = concatenateTime(hourValue, minuteValue).trim();
            if (concatenatedTime === null || concatenatedTime === "") {
                toastr.info("Invalid time");
            }
            window.location.href = "/Search/DateTimeFilter?LocationId=" + CurrentLocationId + "&&FilteredTime=" + concatenatedTime + "&&ResultType='1'";
        }

        const LastEntryShowPopup = () => document.getElementById('last-entry-id').classList.remove('translate-y-full');
        const LastEntryClosePopup = () => document.getElementById('last-entry-id').classList.add('translate-y-full');

        function LastEntrySubmitFunction() {
            var hourValue = $("#hourShadowval2").val();
            var minuteValue = $("#minuteShadowval2").val();
            var concatenatedTime = concatenateTime(hourValue.trim(), minuteValue.trim()).trim();
            if (concatenatedTime === null || concatenatedTime === "") {
                toastr.info("Invalid time");
            }
            window.location.href = "/Search/DateTimeFilter?LocationId=" + CurrentLocationId + "&&FilteredTime=" + concatenatedTime + "&&ResultType='2'";
        }

        function concatenateTime(hourValue, minuteValue) {
            if (hourValue === null || hourValue === "") {
                return "Invalid input"; // or handle the error according to your requirements
            }
            hourValue = parseInt(hourValue);
            minuteValue = parseInt(minuteValue);
            // Ensure hourValue and minuteValue are valid
            if (hourValue < 0 || hourValue > 23 || minuteValue < 0 || minuteValue > 59) {
                return ""; //Invalid time
            }
            // Format hour and minute to have leading zeros if necessary
            var hour = hourValue < 10 ? "0" + hourValue : hourValue.toString();
            var minute = minuteValue < 10 ? "0" + minuteValue : minuteValue.toString();

            // Concatenate hour and minute with a colon
            return hour.trim() + ":" + minute.trim();
        }
    </script>
    <!----------------------------------------------------Location---------------------------------------------------->
    <!--#region 1-->
    <script>
        function LocationFunction(i) {
            window.location.href = "/LocationManagement/Index?LocationId=" + i;
        }
        function ClubDetailActionFunction(i, j) {
            window.location.href = "/LocationManagement/ClubDetail_V2?LocationId=" + i + "&&ClubId=" + j;
        }
    </script>
    <!--#endregion-->

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script>

        // Call the function for the hour and minute elements
        const hourScroll = document.querySelector('.hours-scroll');
        const hourShadow = document.getElementById('hourShadow');
        const hourShadow2 = document.getElementById('hourShadow2');
        handleScroll(hourScroll, hourShadow, 3, handleHour); // Third slide for hour
        handleScroll(hourScroll, hourShadow2, 3, handleHour2); // Third slide for hour

        const minuteScroll = document.querySelector('.minute-scroll');
        const minuteShadow = document.getElementById('minuteShadow');
        const minuteShadow2 = document.getElementById('minuteShadow2');
        handleScroll(minuteScroll, minuteShadow, 1, handleMinute); // Second slide for minute
        handleScroll(minuteScroll, minuteShadow2, 1, handleMinute2); // Second slide for minute

        // Function to handle scrolling and shadow position for hour and minute elements
        // Function to handle scrolling and shadow position for hour and minute elements
        function handleScroll(scrollContainer, shadowElement, targetIndex, callback) {
            const debouncedCallback = _.debounce(callback, 10); // Debounce the callback function
            scrollContainer.addEventListener('scroll', function () {
                const shadowRect = shadowElement.getBoundingClientRect();

                const swiperSlides = scrollContainer.querySelectorAll('.swiper-slide');
                const targetSlide = Array.from(swiperSlides).filter((slide, index) => {
                    return index >= (targetIndex - 1) && index <= (targetIndex + 3) && slide.getBoundingClientRect().bottom >= shadowRect.bottom;
                })[0];

                if (targetSlide) {
                    const value = targetSlide.textContent.trim();
                    debouncedCallback(value); // Call the debounced callback
                }
            });
        }

        // Function to handle hour value
        function handleHour(value) {
            $('#hourShadowval').val(value.trim());

        }

        // Function to handle minute value
        function handleMinute(value) {
            $('#minuteShadowval').val(value.trim());
        }

        // Function to handle hour value
        function handleHour2(value) {
            $('#hourShadowval2').val(value.trim());
        }

        // Function to handle minute value
        function handleMinute2(value) {
            $('#minuteShadowval2').val(value.trim());
        }

    </script>
}

